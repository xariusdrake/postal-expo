{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject,\n    _jsxFileName = \"/Users/xrs/DATA/Project/postalvn/postal-mobile/screens/more/settings/index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { connect } from \"react-redux\";\nimport * as Updates from \"expo-updates\";\nimport { Layout, Text, Divider, Button } from \"@ui-kitten/components\";\nimport { Setting } from \"./extra/settings-section.component\";\nimport { gql } from \"@apollo/client\";\nvar SUBSCRIPTION_USER_INFO = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n\\tsubscription MySubscription {\\n\\t\\tusers(where: { id: { _eq: 32 } }) {\\n\\t\\t\\tid\\n\\t\\t\\tfullname\\n\\t\\t\\tis_actived\\n\\t\\t}\\n\\t}\\n\"])));\n\nfunction MoreInfoScreen(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      newUpdate = _useState2[0],\n      setNewUpdate = _useState2[1];\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"@token\"));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(props.storeData(\"\"));\n\n          case 5:\n            props.navigation.navigate(\"More\");\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  function signin() {\n    props.navigation.navigate(\"SignIn\");\n  }\n\n  useEffect(function () {\n    checkUpdate();\n  });\n\n  function checkUpdate() {\n    var update;\n    return _regeneratorRuntime.async(function checkUpdate$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"UpdateApp\");\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(Updates.checkForUpdateAsync());\n\n          case 4:\n            update = _context2.sent;\n\n            if (update.isAvailable) {\n              setNewUpdate(false);\n            } else {\n              setNewUpdate(true);\n              console.log(\"nothing\");\n            }\n\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  }\n\n  function updateVersion() {\n    return _regeneratorRuntime.async(function updateVersion$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            Alert.alert(\"Phiên bản mới nhất đang bắt đầu cập nhật\");\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(Updates.fetchUpdateAsync());\n\n          case 3:\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(Updates.reloadAsync());\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(Layout, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 3\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }\n  }, React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, props.token.length > 0 && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, React.createElement(Layout, {\n    style: styles.header,\n    level: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 8\n    }\n  }, React.createElement(View, {\n    style: styles.profileContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.profileDetailsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 10\n    }\n  }, React.createElement(Text, {\n    category: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, props.infos.fullname), React.createElement(View, {\n    style: styles.profileLocationContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    appearance: \"hint\",\n    category: \"s1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 12\n    }\n  }, props.infos.phone)))), props.infos.is_actived == 0 && React.createElement(View, {\n    style: styles.profileButtonsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 10\n    }\n  }, React.createElement(Button, {\n    appearance: \"outline\",\n    status: \"\",\n    style: styles.profileButton,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"VerifyPhoneNumber\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#0469c1\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 12\n    }\n  }, \"X\\xE1c th\\u1EF1c\")))), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 8\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"Ch\\u1EC9nh s\\u1EEDa t\\xE0i kho\\u1EA3n\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"ProfileSetting\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 8\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"Thay \\u0111\\u1ED5i s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"ChangePhoneNumber\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 8\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"Thay \\u0111\\u1ED5i m\\u1EADt kh\\u1EA9u\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"ChangePassword\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 8\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"\\u0110\\u0103ng xu\\u1EA5t\",\n    onPress: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 8\n    }\n  })), props.token.length == 0 && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"\\u0110\\u0103ng nh\\u1EADp\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"SignIn\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 8\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"\\u0110\\u0103ng k\\xFD\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"SignUp\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 8\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: [styles.containerSetting, styles.setting],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    status: \"info\",\n    category: \"s1\",\n    style: {\n      color: \"#0469c1\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, \"M\\xE3 b\\u01B0u ch\\xEDnh\")), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 6\n    }\n  }), React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"\\u0110\\u0103ng k\\xFD m\\xE3 b\\u01B0u ch\\xEDnh\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"CreatePostal\", {\n        isUpdate: false\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 6\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: [styles.containerSetting, styles.setting],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    status: \"info\",\n    category: \"s1\",\n    style: {\n      color: \"#0469c1\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }\n  }, \"Phi\\xEAn b\\u1EA3n 2.4.1\")), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 6\n    }\n  }), newUpdate == true && React.createElement(Setting, {\n    style: styles.setting,\n    hint: \"C\\u1EADp nh\\u1EADt phi\\xEAn b\\u1EA3n m\\u1EDBi\",\n    onPress: function onPress() {\n      return updateVersion();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 30\n  },\n  header: {\n    padding: 10\n  },\n  profileContainer: {\n    flexDirection: \"row\"\n  },\n  profileDetailsContainer: {\n    flex: 1,\n    marginHorizontal: 8\n  },\n  profileLocationContainer: {\n    paddingTop: 5,\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  containerSetting: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  profileButtonsContainer: {\n    flexDirection: \"row\",\n    marginVertical: 24\n  },\n  profileButton: {\n    flex: 1,\n    marginHorizontal: 4,\n    borderColor: \"#0469c1\",\n    color: \"#0469c1\"\n  },\n  setting: {\n    padding: 16\n  },\n  section: {\n    paddingTop: 32\n  }\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    storeData: function storeData(token) {\n      dispatch({\n        type: \"saveToken\",\n        token: token\n      });\n    },\n    storeUserInfo: function storeUserInfo(infos) {\n      dispatch({\n        type: \"saveUserInfo\",\n        infos: infos\n      });\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    infos: state.infos,\n    token: state.token\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreInfoScreen);","map":{"version":3,"sources":["/Users/xrs/DATA/Project/postalvn/postal-mobile/screens/more/settings/index.tsx"],"names":["React","useEffect","useState","connect","Updates","Layout","Text","Divider","Button","Setting","gql","SUBSCRIPTION_USER_INFO","MoreInfoScreen","props","newUpdate","setNewUpdate","logout","AsyncStorage","removeItem","storeData","navigation","navigate","console","log","signin","checkUpdate","checkForUpdateAsync","update","isAvailable","updateVersion","Alert","alert","fetchUpdateAsync","reloadAsync","styles","container","token","length","header","profileContainer","profileDetailsContainer","infos","fullname","profileLocationContainer","phone","is_actived","profileButtonsContainer","profileButton","color","setting","containerSetting","isUpdate","StyleSheet","create","flex","paddingTop","padding","flexDirection","marginHorizontal","alignItems","justifyContent","marginVertical","borderColor","section","mapDispatchToProps","dispatch","type","storeUserInfo","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n\tStyleSheet,\n\tTouchableOpacity,\n\tTouchableOpacityProps,\n\tAsyncStorage,\n\tView,\n\tSafeAreaView,\n\tScrollView,\n\tAlert,\n} from \"react-native\";\n\nimport { connect } from \"react-redux\";\nimport * as Updates from \"expo-updates\";\n\nimport {\n\tLayout,\n\tToggle,\n\tText,\n\tTopNavigation,\n\tDivider,\n\tAvatar,\n\tButton,\n} from \"@ui-kitten/components\";\nimport { Setting } from \"./extra/settings-section.component\";\nimport {\n\tuseQuery,\n\tuseLazyQuery,\n\tuseMutation,\n\tuseSubscription,\n\tgql,\n} from \"@apollo/client\";\n\nconst SUBSCRIPTION_USER_INFO = gql`\n\tsubscription MySubscription {\n\t\tusers(where: { id: { _eq: 32 } }) {\n\t\t\tid\n\t\t\tfullname\n\t\t\tis_actived\n\t\t}\n\t}\n`;\n\nfunction MoreInfoScreen(props) {\n\t// const [\n\t// \tliveUserInfo,\n\t// \t{\n\t// \t\terror: errorInfo,\n\t// \t\tcalled: calledInfo,\n\t// \t\tloading: loadingInfo,\n\t// \t\tdata: dataInfo,\n\t// \t},\n\t// ] = useSubscription(SUBSCRIPTION_USER_INFO, {\n\t// \tonCompleted: (dataInfo) => {\n\t// \t\tconsole.log(47, dataInfo);\n\t// \t},\n\t// \tonError: (errorInfo) => {},\n\t// });\n\n\t// const { data, loading } = useSubscription(SUBSCRIPTION_USER_INFO, {\n\t// \tonSubscriptionData: (data) => {\n\t// \t\tconsole.log(47, data);\n\t// \t},\n\t// \t// onError: (errorInfo) => {},\n\t// });\n\n\t// const [soundEnabled, setSoundEnabled] = React.useState < boolean > false;\n\n\t// const toggleSound = (): void => {\n\t// \tsetSoundEnabled(!soundEnabled);\n\t// };\n\n\tconst [newUpdate, setNewUpdate] = useState(false);\n\n\tconst logout = async () => {\n\t\ttry {\n\t\t\tawait AsyncStorage.removeItem(\"@token\");\n\t\t\tawait props.storeData(\"\");\n\t\t\tprops.navigation.navigate(\"More\");\n\t\t} catch (exception) {\n\t\t\tconsole.log(exception);\n\t\t}\n\t};\n\n\tfunction signin() {\n\t\tprops.navigation.navigate(\"SignIn\");\n\t}\n\n\tuseEffect(() => {\n\t\t// if (!!props.infos.id) {\n\t\t// \tliveUserInfo()\n\t\t// }\n\n\t\tcheckUpdate();\n\t});\n\n\t// function signin() {\n\t// \tprops.navigation.navigate(\"SignIn\");\n\t// }\n\n\tasync function checkUpdate() {\n\t\tconsole.log(\"UpdateApp\");\n\t\ttry {\n\t\t\tconst update = await Updates.checkForUpdateAsync();\n\t\t\tif (update.isAvailable) {\n\t\t\t\tsetNewUpdate(false);\n\t\t\t\t// Alert.alert(\"Phiên bản mới nhất đang bắt đầu cập nhật\");\n\n\t\t\t\t// await Updates.fetchUpdateAsync();\n\t\t\t\t// await Updates.reloadAsync();\n\t\t\t} else {\n\t\t\t\tsetNewUpdate(true);\n\t\t\t\t// Alert.alert(\"Bạn đang sử dụng phiên bản mới nhất\");\n\t\t\t\tconsole.log(\"nothing\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n\n\tasync function updateVersion() {\n\t\tAlert.alert(\"Phiên bản mới nhất đang bắt đầu cập nhật\");\n\t\tawait Updates.fetchUpdateAsync();\n\t\tawait Updates.reloadAsync();\n\t}\n\n\treturn (\n\t\t<Layout style={styles.container}>\n\t\t\t<ScrollView>\n\t\t\t\t<SafeAreaView>\n\t\t\t\t\t{props.token.length > 0 && (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Layout style={styles.header} level=\"1\">\n\t\t\t\t\t\t\t\t<View style={styles.profileContainer}>\n\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\tstyle={styles.profileDetailsContainer}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Text category=\"h5\">\n\t\t\t\t\t\t\t\t\t\t\t{props.infos.fullname}\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\t\t\tstyles.profileLocationContainer\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\t\t// style={styles.profileLocation}\n\t\t\t\t\t\t\t\t\t\t\t\tappearance=\"hint\"\n\t\t\t\t\t\t\t\t\t\t\t\tcategory=\"s1\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{props.infos.phone}\n\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t</View>\n\n\t\t\t\t\t\t\t\t\t{/*<Avatar\n\t\t\t\t\t\t\t\t\tstyle={styles.profileAvatar}\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tsource={{\n\t\t\t\t\t\t\t\t\t\turi:\n\t\t\t\t\t\t\t\t\t\t\t\"https://cdn0.iconfinder.com/data/icons/octicons/1024/mark-github-512.png\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>*/}\n\t\t\t\t\t\t\t\t</View>\n\n\t\t\t\t\t\t\t\t{props.infos.is_actived == 0 && (\n\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\tstyle={styles.profileButtonsContainer}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tappearance=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={styles.profileButton}\n\t\t\t\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"VerifyPhoneNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Text style={{ color: \"#0469c1\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\tXác thực\n\t\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Layout>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Chỉnh sửa tài khoản\"\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\"ProfileSetting\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/*<Text>{data.users[0].id}</Text>*/}\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Thay đổi số điện thoại\"\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\n\t\t\t\t\t\t\t\t\t\t\"ChangePhoneNumber\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Thay đổi mật khẩu\"\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\"ChangePassword\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Đăng xuất\"\n\t\t\t\t\t\t\t\tonPress={logout}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{props.token.length == 0 && (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Đăng nhập\"\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\"SignIn\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\t\thint=\"Đăng ký\"\n\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\tprops.navigation.navigate(\"SignUp\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t// {...touchableOpacityProps}\n\t\t\t\t\t\tstyle={[styles.containerSetting, styles.setting]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\t\t\tcategory=\"s1\"\n\t\t\t\t\t\t\tstyle={{ color: \"#0469c1\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMã bưu chính\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Setting\n\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\thint=\"Đăng ký mã bưu chính\"\n\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\tprops.navigation.navigate(\"CreatePostal\", {\n\t\t\t\t\t\t\t\tisUpdate: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t// {...touchableOpacityProps}\n\t\t\t\t\t\tstyle={[styles.containerSetting, styles.setting]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\t\t\tcategory=\"s1\"\n\t\t\t\t\t\t\tstyle={{ color: \"#0469c1\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPhiên bản 2.4.1\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<Divider />\n\n\t\t\t\t\t{newUpdate == true && (\n\t\t\t\t\t\t<Setting\n\t\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\t\thint=\"Cập nhật phiên bản mới\"\n\t\t\t\t\t\t\tonPress={() => updateVersion()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/*<Setting\n\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\thint=\"Đăng ký mã bưu chính [X]\"\n\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\tprops.navigation.navigate(\"CreatePostalLocation\", {\n\t\t\t\t\t\t\tisUpdate: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>*/}\n\n\t\t\t\t\t{/*<TouchableOpacity\n\t\t\t\t\t\tstyle={[styles.containerSetting, styles.setting]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\t\t\tcategory=\"s1\"\n\t\t\t\t\t\t\tstyle={{ color: \"#0469c1\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tThông tin\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Setting\n\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\thint=\"Giới thiệu\"\n\t\t\t\t\t\tonPress={() => props.navigation.navigate(\"IntroModal\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<Setting\n\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\thint=\"Hướng dẫn\"\n\t\t\t\t\t\tonPress={() => props.navigation.navigate(\"GuideModal\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<Setting\n\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\thint=\"Văn bản\"\n\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\tprops.navigation.navigate(\"DocumentModal\")\n\t\t\t\t\t\t}\n\t\t\t\t\t/>*/}\n\t\t\t\t\t{/*<Setting\n\t\t\t\t\t\tstyle={styles.setting}\n\t\t\t\t\t\thint=\"Văn bản\"\n\t\t\t\t\t\tonPress={() => props.navigation.navigate(\"MapScreen\")}\n\t\t\t\t\t/>*/}\n\t\t\t\t</SafeAreaView>\n\t\t\t</ScrollView>\n\t\t</Layout>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t\tpaddingTop: 30,\n\t},\n\theader: {\n\t\tpadding: 10,\n\t},\n\n\tprofileContainer: {\n\t\tflexDirection: \"row\",\n\t},\n\tprofileDetailsContainer: {\n\t\tflex: 1,\n\t\tmarginHorizontal: 8,\n\t},\n\tprofileLocationContainer: {\n\t\tpaddingTop: 5,\n\t\tflexDirection: \"row\",\n\t\talignItems: \"center\",\n\t},\n\tcontainerSetting: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t},\n\tprofileButtonsContainer: {\n\t\tflexDirection: \"row\",\n\t\tmarginVertical: 24,\n\t},\n\tprofileButton: {\n\t\tflex: 1,\n\t\tmarginHorizontal: 4,\n\t\tborderColor: \"#0469c1\",\n\t\tcolor: \"#0469c1\",\n\t},\n\tsetting: {\n\t\tpadding: 16,\n\t},\n\tsection: {\n\t\tpaddingTop: 32,\n\t},\n});\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tstoreData: function (token) {\n\t\t\tdispatch({ type: \"saveToken\", token });\n\t\t},\n\t\tstoreUserInfo: function (infos) {\n\t\t\tdispatch({ type: \"saveUserInfo\", infos });\n\t\t},\n\t};\n}\n\nfunction mapStateToProps(state) {\n\treturn { infos: state.infos, token: state.token };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreInfoScreen);\n"]},"metadata":{},"sourceType":"module"}