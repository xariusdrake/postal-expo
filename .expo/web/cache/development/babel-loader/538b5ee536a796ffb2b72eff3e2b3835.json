{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from \"axios\";\nimport appConfigs from \"../config\";\n\nvar HTTPRequest = function () {\n  function HTTPRequest(props) {\n    _classCallCheck(this, HTTPRequest);\n  }\n\n  _createClass(HTTPRequest, null, [{\n    key: \"get\",\n    value: function get(_ref) {\n      var _ref$baseUrl = _ref.baseUrl,\n          baseUrl = _ref$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref$baseUrl,\n          url = _ref.url,\n          token = _ref.token,\n          params = _ref.params;\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"get\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json; charset=utf-8\"\n        },\n        params: params\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post(_ref2) {\n      var _ref2$baseUrl = _ref2.baseUrl,\n          baseUrl = _ref2$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref2$baseUrl,\n          url = _ref2.url,\n          token = _ref2.token,\n          data = _ref2.data;\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"post\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token || \"\"\n        },\n        data: data,\n        body: data\n      });\n    }\n  }, {\n    key: \"postWithAppkey\",\n    value: function postWithAppkey(_ref3) {\n      var _ref3$baseUrl = _ref3.baseUrl,\n          baseUrl = _ref3$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref3$baseUrl,\n          url = _ref3.url,\n          token = _ref3.token,\n          data = _ref3.data;\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"post\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"x-app-key\": appConfigs.API.SECRET_KEY,\n          Authorization: \"Bearer \" + token || \"\"\n        },\n        data: data\n      });\n    }\n  }, {\n    key: \"put\",\n    value: function put(_ref4) {\n      var _ref4$baseUrl = _ref4.baseUrl,\n          baseUrl = _ref4$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref4$baseUrl,\n          url = _ref4.url,\n          token = _ref4.token,\n          data = _ref4.data;\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"put\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token || \"\"\n        },\n        data: data\n      });\n    }\n  }, {\n    key: \"upload\",\n    value: function upload(_ref5) {\n      var _ref5$baseUrl = _ref5.baseUrl,\n          baseUrl = _ref5$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref5$baseUrl,\n          url = _ref5.url,\n          token = _ref5.token,\n          data = _ref5.data,\n          files = _ref5.files;\n      console.log(56, \"upload method\");\n      var formData = new FormData();\n\n      if (data) {\n        for (var field in data) {\n          formData.set(field, data[field]);\n        }\n      }\n\n      console.log(63, \"upload method\");\n\n      if (files) {\n        for (var _field in files) {\n          formData.append(_field, files[_field], files[_field].name);\n        }\n      }\n\n      console.log(71, \"upload method\");\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"post\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + token || \"\"\n        },\n        data: formData\n      }).then(function (data) {\n        console.log(123, data);\n        return data;\n      }).catch(function (err) {\n        console.log(126, err);\n        throw err;\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(_ref6) {\n      var _ref6$baseUrl = _ref6.baseUrl,\n          baseUrl = _ref6$baseUrl === void 0 ? appConfigs.API.GRAPHQL.URI : _ref6$baseUrl,\n          url = _ref6.url,\n          token = _ref6.token,\n          params = _ref6.params;\n      return axios({\n        timeout: appConfigs.REQUEST.TIMEOUT,\n        method: \"delete\",\n        baseURL: baseUrl,\n        url: url,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token || \"\"\n        },\n        params: params\n      });\n    }\n  }]);\n\n  return HTTPRequest;\n}();\n\nexport default HTTPRequest;","map":{"version":3,"sources":["/Users/xrs/DATA/Project/postalvn/postal-mobile/functions/httpRequest.js"],"names":["axios","appConfigs","HTTPRequest","props","baseUrl","API","GRAPHQL","URI","url","token","params","timeout","REQUEST","TIMEOUT","method","baseURL","headers","Accept","data","Authorization","body","SECRET_KEY","files","console","log","formData","FormData","field","set","append","name","then","catch","err"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport appConfigs from \"../config\";\n\nclass HTTPRequest {\n    constructor(props) {\n        // super(props)\n        // axios.defaults.headers.post['Content-Type'] = 'application/json'\n        // axios.defaults.headers.post['Accept'] = 'application/json'\n        // axios.defaults.headers.post['Accept-Language'] = 'en'\n    }\n    static get({ baseUrl = appConfigs.API.GRAPHQL.URI, url, token, params }) {\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"get\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n                // 'x-app-key': baseUrl == appConfigs.API.URL.EID_URL ? appConfigs.API.SECRET_KEY : '',\n                // 'x-app-key': appConfigs.API.SECRET_KEY,\n                // 'Authorization': 'Bearer ' + token || '',\n            },\n            params: params,\n        });\n    }\n\n    static post({ baseUrl = appConfigs.API.GRAPHQL.URI, url, token, data }) {\n        // let header = {}\n\n        // header.push({\n        //     'Accept': 'application/json',\n        //     'Content-Type': 'application/json',\n        //     'Authorization': 'Bearer ' + token || ''\n        //\n        // })\n\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"post\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                // 'x-app-key': baseUrl == appConfigs.API.URL.EID_URL ? appConfigs.API.SECRET_KEY : '',\n                // 'x-app-key': appConfigs.API.SECRET_KEY,\n                Authorization: \"Bearer \" + token || \"\",\n            },\n            data: data,\n            body: data,\n        });\n    }\n\n    static postWithAppkey({\n        baseUrl = appConfigs.API.GRAPHQL.URI,\n        url,\n        token,\n        data,\n    }) {\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"post\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"x-app-key\": appConfigs.API.SECRET_KEY,\n                Authorization: \"Bearer \" + token || \"\",\n            },\n            data: data,\n        });\n    }\n\n    static put({ baseUrl = appConfigs.API.GRAPHQL.URI, url, token, data }) {\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"put\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token || \"\",\n            },\n            data: data,\n        });\n    }\n\n    static upload({\n        baseUrl = appConfigs.API.GRAPHQL.URI,\n        url,\n        token,\n        data,\n        files,\n    }) {\n        console.log(56, \"upload method\");\n\n        var formData = new FormData();\n        if (data) {\n            for (let field in data) {\n                formData.set(field, data[field]);\n            }\n        }\n\n        console.log(63, \"upload method\");\n\n        if (files) {\n            for (let field in files) {\n                formData.append(field, files[field], files[field].name);\n            }\n        }\n\n        console.log(71, \"upload method\");\n\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"post\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: \"Bearer \" + token || \"\",\n            },\n            data: formData,\n        })\n            .then((data) => {\n                console.log(123, data);\n                return data;\n            })\n            .catch((err) => {\n                console.log(126, err);\n                throw err;\n            });\n    }\n\n    static delete({\n        baseUrl = appConfigs.API.GRAPHQL.URI,\n        url,\n        token,\n        params,\n    }) {\n        return axios({\n            timeout: appConfigs.REQUEST.TIMEOUT,\n            method: \"delete\",\n            baseURL: baseUrl,\n            url: url,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token || \"\",\n            },\n            params: params,\n        });\n    }\n}\n\nexport default HTTPRequest;\n"]},"metadata":{},"sourceType":"module"}