{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nvar _jsxFileName = \"/Users/xrs/DATA/Project/postalvn/postal-mobile/screens/postal/createPostal.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { connect } from \"react-redux\";\nimport * as Location from \"expo-location\";\nimport * as Permissions from \"expo-permissions\";\nimport { Layout, Input, Button, Text, Icon, TopNavigation, TopNavigationAction, OverflowMenu, MenuItem, Divider, Select, SelectItem, IndexPath } from \"@ui-kitten/components\";\nimport axios from \"axios\";\nimport HTTPRequest from \"../../functions/httpRequest.js\";\nimport { GooglePlacesAutocomplete } from \"react-native-google-places-autocomplete\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport Geocode from \"react-geocode\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport { MUTATION_CREATE_POSTAL, QUERY_GET_POSTAL, MUTATION_UPDATE_POSTAL, QUERY_GET_INFO_USER } from \"../../graphql/query\";\nimport appConfigs from \"../../config\";\nimport DataPostalLevel1 from \"./data/postal_level_1.json\";\nGeocode.setApiKey(appConfigs.GOOGLE_MAP.API_KEY_2);\n\nvar BackIcon = function BackIcon(props) {\n  return React.createElement(Icon, _extends({}, props, {\n    name: \"arrow-back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }));\n};\n\nvar MenuIcon = function MenuIcon(props) {\n  return React.createElement(Icon, _extends({}, props, {\n    name: \"more-vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }));\n};\n\nvar InfoIcon = function InfoIcon(props) {\n  return React.createElement(Icon, _extends({}, props, {\n    name: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }));\n};\n\nfunction createPostalLocationScreen(props) {\n  var mapRef = React.useRef();\n\n  var _useMutation = useMutation(MUTATION_CREATE_POSTAL, {\n    onCompleted: function onCompleted(dataCreatePostal) {\n      console.log(\"onCompleted\");\n      console.log(dataCreatePostal);\n\n      if (dataCreatePostal.insert_postals.returning[0].id) {\n        getInfoUser({\n          variables: {\n            uid: props.infos.id\n          }\n        });\n      } else {\n        console.log(\"some errror in response\");\n      }\n    },\n    onError: function onError(queryError) {\n      setLoading(false);\n      console.log(\"onError\");\n      console.log(queryError);\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createPostal = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      queryLoading = _useMutation2$.loading,\n      queryError = _useMutation2$.error,\n      dataCreatePostal = _useMutation2$.data;\n\n  var _useLazyQuery = useLazyQuery(QUERY_GET_POSTAL, {\n    fetchPolicy: \"no-cache\",\n    onCompleted: function onCompleted(dataGet) {\n      var _mapRef$current;\n\n      setLoading(false);\n      console.log(\"dataGet\");\n      console.log(dataGet);\n      console.log(dataGet.postals[0].name);\n      setNameInput(dataGet.postals[0].name);\n      setAddressInput(dataGet.postals[0].address);\n      setCodeArea(dataGet.postals[0].code_area);\n      setIndexLevel1(new IndexPath(dataGet.postals[0].area_level1_index));\n      setIndexLevel2(new IndexPath(dataGet.postals[0].area_level2_index));\n      setIndexLevel3(new IndexPath(dataGet.postals[0].area_level3_index));\n      console.log(114, indexLevel1, dataGet.postals[0].area_level1_index);\n      selectAreaLevel1(indexLevel1).then(function () {\n        selectAreaLevel2(indexLevel2).then(function () {\n          selectAreaLevel3(indexLevel3);\n        });\n      });\n      setPhoneInput(dataGet.postals[0].phone);\n      (_mapRef$current = mapRef.current) == null ? void 0 : _mapRef$current.setAddressText(dataGet.postals[0].address);\n      setCurrentLat(dataGet.postals[0].lat);\n      setCurrentLong(dataGet.postals[0].lng);\n    },\n    onError: function onError(errorGet) {\n      console.log(\"onError\");\n      console.log(errorPostal);\n    }\n  }),\n      _useLazyQuery2 = _slicedToArray(_useLazyQuery, 2),\n      getPostal = _useLazyQuery2[0],\n      _useLazyQuery2$ = _useLazyQuery2[1],\n      errorGet = _useLazyQuery2$.error,\n      calledGet = _useLazyQuery2$.called,\n      loadingGet = _useLazyQuery2$.loading,\n      dataGet = _useLazyQuery2$.data;\n\n  var _useMutation3 = useMutation(MUTATION_UPDATE_POSTAL, {\n    fetchPolicy: \"no-cache\",\n    onCompleted: function onCompleted(dataUpdate) {\n      console.log(\"dataUpdate\");\n      console.log(dataUpdate);\n      setLoading(false);\n    },\n    onError: function onError(errorPostal) {}\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 2),\n      updatePostal = _useMutation4[0],\n      _useMutation4$ = _useMutation4[1],\n      errorUpdate = _useMutation4$.error,\n      calledUpdate = _useMutation4$.called,\n      loadingUpdate = _useMutation4$.loading,\n      dataUpdate = _useMutation4$.data;\n\n  var _useLazyQuery3 = useLazyQuery(QUERY_GET_INFO_USER, {\n    fetchPolicy: \"no-cache\",\n    onCompleted: function onCompleted(dataUser) {\n      setLoading(false);\n      console.log(\"xxx onCompleted\");\n      console.log(62, dataUser);\n      console.log(63, dataUser[0]);\n      console.log(64, dataUser.users[0].fullname);\n      props.storeUserInfo(dataUser.users[0]);\n      props.navigation.navigate(\"MyPostal\");\n    },\n    onError: function onError(loadingUser) {\n      setLoading(false);\n      console.log(\"loadingUser\");\n      console.log(loadingUser);\n    }\n  }),\n      _useLazyQuery4 = _slicedToArray(_useLazyQuery3, 2),\n      getInfoUser = _useLazyQuery4[0],\n      _useLazyQuery4$ = _useLazyQuery4[1],\n      loadingUser = _useLazyQuery4$.loading,\n      errorUser = _useLazyQuery4$.error,\n      dataUser = _useLazyQuery4$.data;\n\n  var _useState = useState(new IndexPath(0)),\n      _useState2 = _slicedToArray(_useState, 2),\n      indexLevel1 = _useState2[0],\n      setIndexLevel1 = _useState2[1];\n\n  var _useState3 = useState(\"Chọn tỉnh/thành phố\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      displayLevel1 = _useState4[0],\n      setDisplayLevel1 = _useState4[1];\n\n  var _useState5 = useState(new IndexPath(0)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      indexLevel2 = _useState6[0],\n      setIndexLevel2 = _useState6[1];\n\n  var _useState7 = useState(\"Chọn huyện\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      displayLevel2 = _useState8[0],\n      setDisplayLevel2 = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dataPostalLevel2 = _useState10[0],\n      setDataPostalLevel2 = _useState10[1];\n\n  var _useState11 = useState(new IndexPath(0)),\n      _useState12 = _slicedToArray(_useState11, 2),\n      indexLevel3 = _useState12[0],\n      setIndexLevel3 = _useState12[1];\n\n  var _useState13 = useState(\"Chọn xã\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      displayLevel3 = _useState14[0],\n      setDisplayLevel3 = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      nameLevel3 = _useState16[0],\n      setNameLevel3 = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      dataPostalLevel3 = _useState18[0],\n      setDataPostalLevel3 = _useState18[1];\n\n  var _useState19 = useState(null),\n      _useState20 = _slicedToArray(_useState19, 2),\n      codeArea = _useState20[0],\n      setCodeArea = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      nameInput = _useState22[0],\n      setNameInput = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      phoneInput = _useState24[0],\n      setPhoneInput = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      addressInput = _useState26[0],\n      setAddressInput = _useState26[1];\n\n  var _useState27 = useState(null),\n      _useState28 = _slicedToArray(_useState27, 2),\n      currentLat = _useState28[0],\n      setCurrentLat = _useState28[1];\n\n  var _useState29 = useState(null),\n      _useState30 = _slicedToArray(_useState29, 2),\n      currentLong = _useState30[0],\n      setCurrentLong = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      loadingAddress = _useState32[0],\n      setLoadingAddress = _useState32[1];\n\n  var _useState33 = useState(false),\n      _useState34 = _slicedToArray(_useState33, 2),\n      loading = _useState34[0],\n      setLoading = _useState34[1];\n\n  var _useState35 = useState(false),\n      _useState36 = _slicedToArray(_useState35, 2),\n      menuVisible = _useState36[0],\n      setMenuVisible = _useState36[1];\n\n  var _useState37 = useState(true),\n      _useState38 = _slicedToArray(_useState37, 2),\n      isMain = _useState38[0],\n      setIsMain = _useState38[1];\n\n  var isUpdate = props.route.params.isUpdate;\n  useEffect(function () {\n    if (!props.token) {\n      props.navigation.navigate(\"SignIn\");\n    }\n\n    if (props.route.params.isUpdate == true) {\n      getPostal({\n        variables: {\n          id: props.route.params.postal.id\n        }\n      });\n    } else {\n      function askPermissions() {\n        var response, location;\n        return _regeneratorRuntime.async(function askPermissions$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n              case 2:\n                response = _context.sent;\n                console.log(\"askPermissions response\");\n                console.log(response);\n\n                if (!(response.status == \"granted\")) {\n                  _context.next = 15;\n                  break;\n                }\n\n                setLoadingAddress(true);\n                console.log(\"askPermissions granted\");\n                _context.next = 10;\n                return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync());\n\n              case 10:\n                location = _context.sent;\n                console.log(location);\n\n                if (location.coords.latitude != null && location.coords.longitude != null) {\n                  setCurrentLat(location.coords.latitude);\n                  setCurrentLong(location.coords.longitude);\n                }\n\n                _context.next = 16;\n                break;\n\n              case 15:\n                console.log(\"else\");\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n\n      askPermissions();\n    }\n  }, []);\n\n  function fetchAddress(lat, lng) {\n    return _regeneratorRuntime.async(function fetchAddress$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            Geocode.fromLatLng(lat, lng).then(function (response) {\n              var _mapRef$current2;\n\n              var address = response.results[0].formatted_address;\n              setAddressInput(address);\n              (_mapRef$current2 = mapRef.current) == null ? void 0 : _mapRef$current2.setAddressText(address);\n              setLoadingAddress(false);\n              console.log(222, response);\n              console.log(333, address);\n            }, function (error) {\n              console.error(error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function fetchGeocode(address) {\n    return _regeneratorRuntime.async(function fetchGeocode$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            Geocode.fromAddress(address).then(function (response) {\n              var _response$results$0$g = response.results[0].geometry.location,\n                  lat = _response$results$0$g.lat,\n                  lng = _response$results$0$g.lng;\n              console.log(22222222, lat, lng);\n              setCurrentLat(lat);\n              setCurrentLong(lng);\n              mapRef.current.fitToSuppliedMarkers(markers.map(function (_ref) {\n                var _id = _ref._id;\n                return _id;\n              }));\n            }, function (error) {\n              console.error(error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function selectAreaLevel1(index) {\n    return _regeneratorRuntime.async(function selectAreaLevel1$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            setIndexLevel1(new IndexPath(index));\n            setDisplayLevel1(DataPostalLevel1[index][\"name\"]);\n            _context4.next = 4;\n            return _regeneratorRuntime.awrap(axios({\n              method: \"get\",\n              url: \"https://api.mabuuchinh.vn/api/v1/MBC/GetAdministrativeAgencies?parentPostCode=\" + DataPostalLevel1[index][\"code\"],\n              headers: {\n                accept: \"text/plain\"\n              }\n            }).then(function (data) {\n              console.log(\"data selectAreaLevel1 list2\", data);\n              setDataPostalLevel2(data.data);\n            }).catch(function (e) {\n              console.log(\"error\", e);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function selectAreaLevel2(index) {\n    return _regeneratorRuntime.async(function selectAreaLevel2$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            setIndexLevel2(new IndexPath(index));\n            setDisplayLevel2(dataPostalLevel2[index][\"name\"].replace(\"tỉnh \" + displayLevel1, \"\"));\n            _context5.next = 4;\n            return _regeneratorRuntime.awrap(axios({\n              method: \"get\",\n              url: \"https://api.mabuuchinh.vn/api/v1/MBC/GetAdministrativeAgencies?parentPostCode=\" + dataPostalLevel2[index][\"postcode\"],\n              headers: {\n                accept: \"text/plain\"\n              }\n            }).then(function (data) {\n              console.log(\"data\", data);\n              setDataPostalLevel3(data.data);\n            }).catch(function (e) {\n              console.log(\"error\", e);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function selectAreaLevel3(index) {\n    return _regeneratorRuntime.async(function selectAreaLevel3$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            setIndexLevel3(new IndexPath(index));\n            setDisplayLevel3(dataPostalLevel3[index][\"name\"].replace(\"tỉnh \" + displayLevel1, \"\").replace(displayLevel2, \"\"));\n            setNameLevel3(dataPostalLevel3[index][\"name\"]);\n            console.log(601, dataPostalLevel3[index][\"postcode\"], dataPostalLevel3[index][\"name\"]);\n            setCodeArea(dataPostalLevel3[index][\"postcode\"]);\n            fetchGeocode(dataPostalLevel3[index][\"name\"]);\n\n          case 6:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function onClickCreate() {\n    console.log(132, props.infos);\n    console.log(264, {\n      name: nameInput,\n      phone: phoneInput.toString(),\n      address: addressInput,\n      type: 99,\n      image_url: \"https://i.imgur.com/fkmKq6F.png\",\n      lat: currentLat.toString(),\n      lng: currentLong.toString(),\n      uid: props.infos.id\n    });\n\n    if (!nameInput.trim()) {\n      Alert.alert(\"Vui lòng nhập tên địa điểm\");\n      return;\n    } else if (!phoneInput.trim()) {\n      Alert.alert(\"Vui lòng nhập số điện thoại\");\n      return;\n    } else if (!displayLevel1.trim()) {\n      Alert.alert(\"Vui lòng chọn tỉnh/thành phố\");\n      return;\n    } else if (!displayLevel2.trim()) {\n      Alert.alert(\"Vui lòng chọn huyện\");\n      return;\n    } else if (!displayLevel3.trim()) {\n      Alert.alert(\"Vui lòng chọn xã\");\n      return;\n    } else if (!addressInput.trim()) {\n      Alert.alert(\"Vui lòng nhập địa chỉ\");\n      return;\n    }\n\n    setLoading(true);\n\n    if (isUpdate == true) {\n      console.log(\"update postal\");\n      updatePostal({\n        variables: {\n          id: props.route.params.postal.id,\n          name: nameInput,\n          phone: phoneInput.toString(),\n          address: addressInput,\n          code_area: codeArea,\n          area_level1_index: parseInt(indexLevel1),\n          area_level2_index: parseInt(indexLevel2),\n          area_level3_index: parseInt(indexLevel3),\n          lat: currentLat.toString(),\n          lng: currentLong.toString(),\n          uid: props.infos.id\n        }\n      });\n    } else {\n      fetchGeocode(addressInput + \" ,\" + nameLevel3).then(function () {\n        console.log(\"done fetchGeocode.then\");\n        createPostal({\n          variables: {\n            name: nameInput,\n            phone: phoneInput.toString(),\n            address: addressInput,\n            code_area: codeArea,\n            area_level1_index: parseInt(indexLevel1),\n            area_level2_index: parseInt(indexLevel2),\n            area_level3_index: parseInt(indexLevel3),\n            type: 99,\n            image_url: \"https://i.imgur.com/fkmKq6F.png\",\n            lat: currentLat.toString(),\n            lng: currentLong.toString(),\n            uid: props.infos.id\n          }\n        });\n      });\n    }\n  }\n\n  function onClickUpdate() {}\n\n  if (!props.token) {\n    props.navigation.navigate(\"SignIn\");\n  }\n\n  var renderPhotoButton = function renderPhotoButton() {\n    return React.createElement(Button, {\n      style: styles.photoButton,\n      size: \"small\",\n      status: \"basic\",\n      icon: CameraIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 3\n      }\n    });\n  };\n\n  var renderBackAction = function renderBackAction() {\n    return React.createElement(TopNavigationAction, {\n      icon: BackIcon,\n      onPress: function onPress() {\n        return isUpdate == true ? props.navigation.navigate(\"MyPostal\") : props.navigation.navigate(\"More\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 3\n      }\n    });\n  };\n\n  var renderBackMain = function renderBackMain() {\n    return React.createElement(TopNavigationAction, {\n      icon: BackIcon,\n      onPress: function onPress() {\n        return setIsMain(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 3\n      }\n    });\n  };\n\n  var toggleMenu = function toggleMenu() {\n    setMenuVisible(!menuVisible);\n  };\n\n  var renderMenuAction = function renderMenuAction() {\n    return React.createElement(TopNavigationAction, {\n      icon: MenuIcon,\n      onPress: toggleMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 3\n      }\n    });\n  };\n\n  var renderRightLocation = function renderRightLocation() {\n    return React.createElement(Button, {\n      size: \"small\",\n      onPress: function onPress() {\n        return setIsMain(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 3\n      }\n    }, \"Ti\\u1EBFp t\\u1EE5c\");\n  };\n\n  var onRegionChange = function onRegionChange(region) {\n    console.log(26999999, region);\n    console.log(11111111, region.nativeEvent.coordinate);\n    fetchAddress(region.nativeEvent.coordinate.latitude, region.nativeEvent.coordinate.longitude);\n  };\n\n  var SubmitIcon = function SubmitIcon(props) {\n    return React.createElement(Button, {\n      status: \"info\",\n      size: \"small\",\n      style: {\n        marginTop: 15\n      },\n      onPress: function onPress() {\n        return onClickCreate();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 3\n      }\n    }, isUpdate == true ? \"Lưu\" : \"Tạo\");\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      backgroundColor: \"#fff\",\n      height: Dimensions.get(\"window\").height,\n      paddingTop: Platform.OS === \"android\" ? 25 : 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 3\n    }\n  }, isMain == true && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 5\n    }\n  }, React.createElement(TopNavigation, {\n    alignment: \"center\",\n    title: isUpdate == true ? \"Chỉnh sửa\" : \"Đăng ký mã bưu chính\",\n    accessoryLeft: renderBackAction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 6\n    }\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 6\n    }\n  }), React.createElement(Spinner, {\n    visible: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 5,\n      paddingTop: 6,\n      paddingHorizontal: 10,\n      paddingBottom: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 6\n    }\n  }, \"T\\xEAn \\u0111\\u1ECBa \\u0111i\\u1EC3m\"), React.createElement(Input, {\n    style: {\n      paddingHorizontal: 10\n    },\n    placeholder: \"\",\n    value: nameInput,\n    onChangeText: function onChangeText(text) {\n      return setNameInput(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 5,\n      paddingTop: 6,\n      paddingHorizontal: 10,\n      paddingBottom: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 6\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), React.createElement(Input, {\n    style: {\n      paddingHorizontal: 10\n    },\n    placeholder: \"\",\n    value: phoneInput,\n    keyboardType: \"number-pad\",\n    onChangeText: function onChangeText(text) {\n      return setPhoneInput(text);\n    },\n    keyboardType: \"numeric\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 6\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 5,\n      paddingTop: 6,\n      paddingHorizontal: 10,\n      paddingBottom: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 6\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9\"), React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn t\\u1EC9nh th\\xE0nh\",\n    value: displayLevel1,\n    selectedIndex: indexLevel1,\n    onSelect: function onSelect(index) {\n      selectAreaLevel1(index.row);\n    },\n    style: {\n      paddingHorizontal: 10,\n      paddingBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 6\n    }\n  }, DataPostalLevel1.map(function (postal) {\n    return React.createElement(SelectItem, {\n      title: postal.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 8\n      }\n    });\n  })), React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn t\\u1EC9nh th\\xE0nh\",\n    value: displayLevel2,\n    selectedIndex: indexLevel2,\n    onSelect: function onSelect(index) {\n      selectAreaLevel2(index.row);\n    },\n    style: {\n      paddingHorizontal: 10,\n      paddingBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 6\n    }\n  }, dataPostalLevel2.map(function (postal) {\n    return React.createElement(SelectItem, {\n      title: postal.name.replace(\"tỉnh \" + displayLevel1, \"\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 8\n      }\n    });\n  })), React.createElement(Select, {\n    placeholder: \"Ch\\u1ECDn t\\u1EC9nh th\\xE0nh\",\n    value: displayLevel3,\n    selectedIndex: indexLevel3,\n    onSelect: function onSelect(index) {\n      selectAreaLevel3(index.row);\n    },\n    style: {\n      paddingHorizontal: 10,\n      paddingBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 6\n    }\n  }, dataPostalLevel3.map(function (postal) {\n    return React.createElement(SelectItem, {\n      title: postal.name.replace(\"tỉnh \" + displayLevel1, \"\").replace(\"\" + displayLevel2, \"\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 8\n      }\n    });\n  })), React.createElement(Text, {\n    style: {\n      marginTop: 5,\n      paddingTop: 6,\n      paddingHorizontal: 10,\n      paddingBottom: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 6\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9 (s\\u1ED1 nh\\xE0, \\u0111\\u01B0\\u1EDDng)\"), React.createElement(Input, {\n    style: {\n      paddingHorizontal: 10\n    },\n    placeholder: \"\",\n    value: addressInput,\n    onChangeText: function onChangeText(text) {\n      return setAddressInput(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 6\n    }\n  }), React.createElement(Button, {\n    style: {\n      marginHorizontal: 10,\n      marginTop: 15\n    },\n    onPress: function onPress() {\n      return onClickCreate();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 6\n    }\n  }, isUpdate == true ? \"Lưu\" : \"Đăng ký\")), isMain == false && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 5\n    }\n  }, React.createElement(TopNavigation, {\n    alignment: \"center\",\n    title: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 c\\u1EE7a b\\u1EA1n\",\n    accessoryLeft: renderBackMain,\n    accessoryRight: renderRightLocation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 6\n    }\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 6\n    }\n  }), React.createElement(GooglePlacesAutocomplete, {\n    placeholder: \"T\\xECm ki\\u1EBFm\",\n    query: {\n      key: appConfigs.GOOGLE_MAP.API_KEY_2,\n      language: \"vi\",\n      components: \"country:vn\"\n    },\n    onPress: function onPress(data) {\n      var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      console.log(data);\n      console.log(348, data.description);\n      setAddressInput(data.description);\n      fetchGeocode(data.description);\n    },\n    onFail: function onFail(error) {\n      return console.error(error);\n    },\n    styles: {\n      textInputContainer: {\n        borderColor: \"#e4e6ef\",\n        padding: 10,\n        backgroundColor: \"#e4e6ef\"\n      },\n      textInput: {\n        borderColor: \"#e4e6ef\",\n        height: 38,\n        color: \"#5d5d5d\",\n        fontSize: 16\n      },\n      predefinedPlacesDescription: {\n        color: \"#1faadb\"\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 6\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  head: {\n    backgroundColor: \"#fff\",\n    width: \"100%\",\n    marginTop: 50,\n    marginBottom: 0,\n    paddingHorizontal: 25,\n    paddingVertical: 10,\n    margin: 0,\n    borderBottomColor: \"#879299\",\n    borderBottomWidth: 1,\n    height: 50\n  },\n  mapStyle: {\n    width: Dimensions.get(\"window\").width,\n    height: 200\n  },\n  input: {\n    backgroundColor: \"rgb(247, 249, 252)\",\n    borderColor: \"#rgb(228, 233, 242)\",\n    height: 45,\n    borderWidth: 1,\n    borderRadius: 11,\n    paddingHorizontal: 10,\n    marginLeft: 10,\n    marginRight: 10,\n    paddingVertical: 10,\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  },\n  input_icon: {\n    color: \"rgba(0, 0, 0, 0.4)\",\n    marginRight: 10\n  },\n  input_text: {\n    color: \"rgba(0, 0, 0, 0.45)\",\n    fontSize: 15\n  }\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    storeData: function storeData(token) {\n      dispatch({\n        type: \"saveToken\",\n        token: token\n      });\n    },\n    storeUserInfo: function storeUserInfo(infos) {\n      dispatch({\n        type: \"saveUserInfo\",\n        infos: infos\n      });\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    infos: state.infos,\n    token: state.token\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(createPostalLocationScreen);","map":{"version":3,"sources":["/Users/xrs/DATA/Project/postalvn/postal-mobile/screens/postal/createPostal.js"],"names":["React","useState","useEffect","connect","Location","Permissions","Layout","Input","Button","Text","Icon","TopNavigation","TopNavigationAction","OverflowMenu","MenuItem","Divider","Select","SelectItem","IndexPath","axios","HTTPRequest","GooglePlacesAutocomplete","Spinner","Geocode","MapView","Marker","Ionicons","Entypo","useMutation","useLazyQuery","MUTATION_CREATE_POSTAL","QUERY_GET_POSTAL","MUTATION_UPDATE_POSTAL","QUERY_GET_INFO_USER","appConfigs","DataPostalLevel1","setApiKey","GOOGLE_MAP","API_KEY_2","BackIcon","props","MenuIcon","InfoIcon","createPostalLocationScreen","mapRef","useRef","onCompleted","dataCreatePostal","console","log","insert_postals","returning","id","getInfoUser","variables","uid","infos","onError","queryError","setLoading","createPostal","queryLoading","loading","error","data","fetchPolicy","dataGet","postals","name","setNameInput","setAddressInput","address","setCodeArea","code_area","setIndexLevel1","area_level1_index","setIndexLevel2","area_level2_index","setIndexLevel3","area_level3_index","indexLevel1","selectAreaLevel1","then","selectAreaLevel2","indexLevel2","selectAreaLevel3","indexLevel3","setPhoneInput","phone","current","setAddressText","setCurrentLat","lat","setCurrentLong","lng","errorGet","errorPostal","getPostal","calledGet","called","loadingGet","dataUpdate","updatePostal","errorUpdate","calledUpdate","loadingUpdate","dataUser","users","fullname","storeUserInfo","navigation","navigate","loadingUser","errorUser","displayLevel1","setDisplayLevel1","displayLevel2","setDisplayLevel2","dataPostalLevel2","setDataPostalLevel2","displayLevel3","setDisplayLevel3","nameLevel3","setNameLevel3","dataPostalLevel3","setDataPostalLevel3","codeArea","nameInput","phoneInput","addressInput","currentLat","currentLong","loadingAddress","setLoadingAddress","menuVisible","setMenuVisible","isMain","setIsMain","isUpdate","route","params","token","postal","askPermissions","askAsync","LOCATION","response","status","getCurrentPositionAsync","location","coords","latitude","longitude","fetchAddress","fromLatLng","results","formatted_address","fetchGeocode","fromAddress","geometry","fitToSuppliedMarkers","markers","map","_id","index","method","url","headers","accept","catch","e","replace","onClickCreate","toString","type","image_url","trim","Alert","alert","parseInt","onClickUpdate","renderPhotoButton","styles","photoButton","CameraIcon","renderBackAction","renderBackMain","toggleMenu","renderMenuAction","renderRightLocation","onRegionChange","region","nativeEvent","coordinate","SubmitIcon","marginTop","backgroundColor","height","Dimensions","get","paddingTop","Platform","OS","paddingHorizontal","paddingBottom","text","row","marginHorizontal","key","language","components","details","description","textInputContainer","borderColor","padding","textInput","color","fontSize","predefinedPlacesDescription","StyleSheet","create","container","flexDirection","alignItems","head","width","marginBottom","paddingVertical","margin","borderBottomColor","borderBottomWidth","mapStyle","input","borderWidth","borderRadius","marginLeft","marginRight","input_icon","input_text","mapDispatchToProps","dispatch","storeData","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n\tView,\n\tStyleSheet,\n\tImage,\n\tImageBackground,\n\tTouchableOpacity,\n\tDimensions,\n\tSafeAreaView,\n\tAlert,\n} from \"react-native\";\nimport { connect } from \"react-redux\";\n\nimport * as Location from \"expo-location\";\nimport * as Permissions from \"expo-permissions\";\nimport {\n\tLayout,\n\tInput,\n\tButton,\n\tText,\n\tIcon,\n\tTopNavigation,\n\tTopNavigationAction,\n\tOverflowMenu,\n\tMenuItem,\n\tDivider,\n\tSelect,\n\tSelectItem,\n\tIndexPath,\n} from \"@ui-kitten/components\";\nimport axios from \"axios\";\n\nimport HTTPRequest from \"../../functions/httpRequest.js\";\n\nimport { GooglePlacesAutocomplete } from \"react-native-google-places-autocomplete\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\n\nimport Geocode from \"react-geocode\";\nimport MapView, { Marker } from \"react-native-maps\";\n\n// fonts\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Entypo } from \"@expo/vector-icons\";\n\nimport { useMutation, useLazyQuery } from \"@apollo/client\";\nimport {\n\tMUTATION_CREATE_POSTAL,\n\tQUERY_GET_POSTAL,\n\tMUTATION_UPDATE_POSTAL,\n\tQUERY_GET_INFO_USER,\n} from \"../../graphql/query\";\n\nimport appConfigs from \"../../config\";\nimport DataPostalLevel1 from \"./data/postal_level_1.json\";\n\nGeocode.setApiKey(appConfigs.GOOGLE_MAP.API_KEY_2);\n\nconst BackIcon = (props) => <Icon {...props} name=\"arrow-back\" />;\n\nconst MenuIcon = (props) => <Icon {...props} name=\"more-vertical\" />;\n\nconst InfoIcon = (props) => <Icon {...props} name=\"info\" />;\n\nfunction createPostalLocationScreen(props) {\n\tconst mapRef = React.useRef();\n\n\tconst [\n\t\tcreatePostal,\n\t\t{ loading: queryLoading, error: queryError, data: dataCreatePostal },\n\t] = useMutation(MUTATION_CREATE_POSTAL, {\n\t\tonCompleted: (dataCreatePostal) => {\n\t\t\tconsole.log(\"onCompleted\");\n\t\t\tconsole.log(dataCreatePostal);\n\n\t\t\tif (dataCreatePostal.insert_postals.returning[0].id) {\n\t\t\t\tgetInfoUser({ variables: { uid: props.infos.id } });\n\t\t\t} else {\n\t\t\t\tconsole.log(\"some errror in response\");\n\t\t\t}\n\n\t\t\t// setAllPostalList(data.postals);\n\t\t},\n\t\tonError: (queryError) => {\n\t\t\tsetLoading(false);\n\t\t\tconsole.log(\"onError\");\n\t\t\tconsole.log(queryError);\n\t\t},\n\t});\n\n\tconst [\n\t\tgetPostal,\n\t\t{\n\t\t\terror: errorGet,\n\t\t\tcalled: calledGet,\n\t\t\tloading: loadingGet,\n\t\t\tdata: dataGet,\n\t\t},\n\t] = useLazyQuery(QUERY_GET_POSTAL, {\n\t\tfetchPolicy: \"no-cache\",\n\t\tonCompleted: (dataGet) => {\n\t\t\tsetLoading(false);\n\t\t\tconsole.log(\"dataGet\");\n\t\t\tconsole.log(dataGet);\n\t\t\tconsole.log(dataGet.postals[0].name);\n\n\t\t\tsetNameInput(dataGet.postals[0].name);\n\t\t\tsetAddressInput(dataGet.postals[0].address);\n\t\t\tsetCodeArea(dataGet.postals[0].code_area);\n\n\t\t\tsetIndexLevel1(new IndexPath(dataGet.postals[0].area_level1_index));\n\t\t\tsetIndexLevel2(new IndexPath(dataGet.postals[0].area_level2_index));\n\t\t\tsetIndexLevel3(new IndexPath(dataGet.postals[0].area_level3_index));\n\n\t\t\tconsole.log(114, indexLevel1, dataGet.postals[0].area_level1_index)\n\n\t\t\tselectAreaLevel1(indexLevel1).then(() => {\n\t\t\t\tselectAreaLevel2(indexLevel2).then(() => {\n\t\t\t\t\tselectAreaLevel3(indexLevel3);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tsetPhoneInput(dataGet.postals[0].phone);\n\t\t\tmapRef.current?.setAddressText(dataGet.postals[0].address);\n\t\t\tsetCurrentLat(dataGet.postals[0].lat);\n\t\t\tsetCurrentLong(dataGet.postals[0].lng);\n\t\t},\n\t\tonError: (errorGet) => {\n\t\t\tconsole.log(\"onError\");\n\t\t\tconsole.log(errorPostal);\n\t\t},\n\t});\n\n\tconst [\n\t\tupdatePostal,\n\t\t{\n\t\t\terror: errorUpdate,\n\t\t\tcalled: calledUpdate,\n\t\t\tloading: loadingUpdate,\n\t\t\tdata: dataUpdate,\n\t\t},\n\t] = useMutation(MUTATION_UPDATE_POSTAL, {\n\t\tfetchPolicy: \"no-cache\",\n\t\tonCompleted: (dataUpdate) => {\n\t\t\tconsole.log(\"dataUpdate\");\n\t\t\tconsole.log(dataUpdate);\n\t\t\tsetLoading(false);\n\t\t},\n\t\tonError: (errorPostal) => {},\n\t});\n\n\tconst [\n\t\tgetInfoUser,\n\t\t{ loading: loadingUser, error: errorUser, data: dataUser },\n\t] = useLazyQuery(QUERY_GET_INFO_USER, {\n\t\tfetchPolicy: \"no-cache\",\n\t\tonCompleted: (dataUser) => {\n\t\t\tsetLoading(false);\n\t\t\tconsole.log(\"xxx onCompleted\");\n\t\t\tconsole.log(62, dataUser);\n\t\t\tconsole.log(63, dataUser[0]);\n\t\t\tconsole.log(64, dataUser.users[0].fullname);\n\n\t\t\tprops.storeUserInfo(dataUser.users[0]);\n\t\t\tprops.navigation.navigate(\"MyPostal\");\n\t\t},\n\t\tonError: (loadingUser) => {\n\t\t\tsetLoading(false);\n\t\t\tconsole.log(\"loadingUser\");\n\t\t\tconsole.log(loadingUser);\n\t\t},\n\t});\n\n\tconst [indexLevel1, setIndexLevel1] = useState(new IndexPath(0));\n\tconst [displayLevel1, setDisplayLevel1] = useState(\"Chọn tỉnh/thành phố\");\n\n\tconst [indexLevel2, setIndexLevel2] = useState(new IndexPath(0));\n\tconst [displayLevel2, setDisplayLevel2] = useState(\"Chọn huyện\");\n\tconst [dataPostalLevel2, setDataPostalLevel2] = useState([]);\n\n\tconst [indexLevel3, setIndexLevel3] = useState(new IndexPath(0));\n\tconst [displayLevel3, setDisplayLevel3] = useState(\"Chọn xã\");\n\tconst [nameLevel3, setNameLevel3] = useState();\n\tconst [dataPostalLevel3, setDataPostalLevel3] = useState([]);\n\tconst [codeArea, setCodeArea] = useState(null);\n\n\tconst [nameInput, setNameInput] = useState(\"\");\n\tconst [phoneInput, setPhoneInput] = useState(\"\");\n\tconst [addressInput, setAddressInput] = useState(\"\");\n\n\tconst [currentLat, setCurrentLat] = useState(null);\n\tconst [currentLong, setCurrentLong] = useState(null);\n\tconst [loadingAddress, setLoadingAddress] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst [menuVisible, setMenuVisible] = useState(false);\n\tconst [isMain, setIsMain] = useState(true);\n\n\tlet isUpdate = props.route.params.isUpdate;\n\n\tuseEffect(() => {\n\t\tif (!props.token) {\n\t\t\tprops.navigation.navigate(\"SignIn\");\n\t\t}\n\n\t\tif (props.route.params.isUpdate == true) {\n\t\t\tgetPostal({ variables: { id: props.route.params.postal.id } });\n\t\t} else {\n\t\t\tasync function askPermissions() {\n\t\t\t\tvar response = await Permissions.askAsync(Permissions.LOCATION);\n\n\t\t\t\tconsole.log(\"askPermissions response\");\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tif (response.status == \"granted\") {\n\t\t\t\t\tsetLoadingAddress(true);\n\t\t\t\t\tconsole.log(\"askPermissions granted\");\n\n\t\t\t\t\tlet location = await Location.getCurrentPositionAsync();\n\t\t\t\t\tconsole.log(location);\n\t\t\t\t\t// setCurrentLocation(location);\n\n\t\t\t\t\t// Location.watchPositionAsync({ distanceInterval: 10 }, (location) => {\n\t\t\t\t\t// \tconsole.log(\n\t\t\t\t\t// \t\t\"askPermissions here location: \",\n\t\t\t\t\t// \t\tlocation.coords.latitude,\n\t\t\t\t\t// \t\tlocation.coords.longitude\n\t\t\t\t\t// \t);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tlocation.coords.latitude != null &&\n\t\t\t\t\t\tlocation.coords.longitude != null\n\t\t\t\t\t) {\n\t\t\t\t\t\tsetCurrentLat(location.coords.latitude);\n\t\t\t\t\t\tsetCurrentLong(location.coords.longitude);\n\t\t\t\t\t}\n\n\t\t\t\t\t// fetchAddress(\n\t\t\t\t\t// \tlocation.coords.latitude,\n\t\t\t\t\t// \tlocation.coords.longitude\n\t\t\t\t\t// );\n\n\t\t\t\t\t// });\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"else\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\taskPermissions();\n\t\t}\n\t}, []);\n\n\tasync function fetchAddress(lat, lng) {\n\t\tGeocode.fromLatLng(lat, lng).then(\n\t\t\t(response) => {\n\t\t\t\t// console.log(105, response);\n\n\t\t\t\tconst address = response.results[0].formatted_address;\n\t\t\t\tsetAddressInput(address);\n\t\t\t\tmapRef.current?.setAddressText(address);\n\t\t\t\tsetLoadingAddress(false);\n\t\t\t\tconsole.log(222, response);\n\t\t\t\tconsole.log(333, address);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t}\n\n\tasync function fetchGeocode(address) {\n\t\tGeocode.fromAddress(address).then(\n\t\t\t(response) => {\n\t\t\t\tconst { lat, lng } = response.results[0].geometry.location;\n\t\t\t\tconsole.log(22222222, lat, lng);\n\n\t\t\t\tsetCurrentLat(lat);\n\t\t\t\tsetCurrentLong(lng);\n\n\t\t\t\tmapRef.current.fitToSuppliedMarkers(\n\t\t\t\t\tmarkers.map(({ _id }) => _id)\n\t\t\t\t);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t}\n\n\tasync function selectAreaLevel1(index) {\n\t\tsetIndexLevel1(new IndexPath(index));\n\n\t\t// console.log(\"indexLevel1 : \", indexLevel1);\n\n\t\tsetDisplayLevel1(DataPostalLevel1[index][\"name\"]);\n\n\t\t// fetchGeocode(DataPostalLevel1[index.row][\"name\"])\n\t\tawait axios({\n\t\t\tmethod: \"get\",\n\t\t\turl:\n\t\t\t\t\"https://api.mabuuchinh.vn/api/v1/MBC/GetAdministrativeAgencies?parentPostCode=\" +\n\t\t\t\tDataPostalLevel1[index][\"code\"],\n\t\t\theaders: {\n\t\t\t\taccept: \"text/plain\",\n\t\t\t},\n\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(\"data selectAreaLevel1 list2\", data);\n\t\t\t\tsetDataPostalLevel2(data.data);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(\"error\", e);\n\t\t\t});\n\t}\n\n\tasync function selectAreaLevel2(index) {\n\t\tsetIndexLevel2(new IndexPath(index));\n\t\tsetDisplayLevel2(\n\t\t\tdataPostalLevel2[index][\"name\"].replace(\"tỉnh \" + displayLevel1, \"\")\n\t\t);\n\n\t\t// fetchGeocode(dataPostalLevel2[index.row][\"name\"])\n\t\tawait axios({\n\t\t\tmethod: \"get\",\n\t\t\turl:\n\t\t\t\t\"https://api.mabuuchinh.vn/api/v1/MBC/GetAdministrativeAgencies?parentPostCode=\" +\n\t\t\t\tdataPostalLevel2[index][\"postcode\"],\n\t\t\theaders: {\n\t\t\t\taccept: \"text/plain\",\n\t\t\t},\n\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(\"data\", data);\n\t\t\t\tsetDataPostalLevel3(data.data);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(\"error\", e);\n\t\t\t});\n\t}\n\n\tasync function selectAreaLevel3(index) {\n\t\tsetIndexLevel3(new IndexPath(index));\n\t\tsetDisplayLevel3(\n\t\t\tdataPostalLevel3[index][\"name\"]\n\t\t\t\t.replace(\"tỉnh \" + displayLevel1, \"\")\n\t\t\t\t.replace(displayLevel2, \"\")\n\t\t);\n\n\t\tsetNameLevel3(dataPostalLevel3[index][\"name\"]);\n\n\t\tconsole.log(\n\t\t\t601,\n\t\t\tdataPostalLevel3[index][\"postcode\"],\n\t\t\tdataPostalLevel3[index][\"name\"]\n\t\t);\n\n\t\tsetCodeArea(dataPostalLevel3[index][\"postcode\"]);\n\n\t\tfetchGeocode(dataPostalLevel3[index][\"name\"]);\n\t}\n\n\t// if (queryLoading) return <Text>Loading...</Text>;\n\t// if (queryError) {\n\t//     console.log('queryError')\n\t//     console.log(queryError)\n\t// }\n\n\t// if (dataCreatePostal) {\n\t//     console.log('dataCreatePostal')\n\t//     console.log(dataCreatePostal)\n\t// }\n\n\tfunction onClickCreate() {\n\t\tconsole.log(132, props.infos);\n\n\t\tconsole.log(264, {\n\t\t\tname: nameInput,\n\t\t\tphone: phoneInput.toString(),\n\t\t\taddress: addressInput,\n\t\t\ttype: 99,\n\t\t\timage_url: \"https://i.imgur.com/fkmKq6F.png\",\n\t\t\tlat: currentLat.toString(),\n\t\t\tlng: currentLong.toString(),\n\t\t\tuid: props.infos.id,\n\t\t});\n\n\t\tif (!nameInput.trim()) {\n\t\t\tAlert.alert(\"Vui lòng nhập tên địa điểm\");\n\t\t\treturn;\n\t\t} else if (!phoneInput.trim()) {\n\t\t\tAlert.alert(\"Vui lòng nhập số điện thoại\");\n\t\t\treturn;\n\t\t} else if (!displayLevel1.trim()) {\n\t\t\tAlert.alert(\"Vui lòng chọn tỉnh/thành phố\");\n\t\t\treturn;\n\t\t} else if (!displayLevel2.trim()) {\n\t\t\tAlert.alert(\"Vui lòng chọn huyện\");\n\t\t\treturn;\n\t\t} else if (!displayLevel3.trim()) {\n\t\t\tAlert.alert(\"Vui lòng chọn xã\");\n\t\t\treturn;\n\t\t} else if (!addressInput.trim()) {\n\t\t\tAlert.alert(\"Vui lòng nhập địa chỉ\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\n\t\tif (isUpdate == true) {\n\t\t\tconsole.log(\"update postal\");\n\n\t\t\tupdatePostal({\n\t\t\t\tvariables: {\n\t\t\t\t\tid: props.route.params.postal.id,\n\t\t\t\t\tname: nameInput,\n\t\t\t\t\tphone: phoneInput.toString(),\n\t\t\t\t\taddress: addressInput,\n\t\t\t\t\tcode_area: codeArea,\n\t\t\t\t\tarea_level1_index: parseInt(indexLevel1),\n\t\t\t\t\tarea_level2_index: parseInt(indexLevel2),\n\t\t\t\t\tarea_level3_index: parseInt(indexLevel3),\n\t\t\t\t\tlat: currentLat.toString(),\n\t\t\t\t\tlng: currentLong.toString(),\n\t\t\t\t\tuid: props.infos.id,\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tfetchGeocode(addressInput + \" ,\" + nameLevel3).then(() => {\n\t\t\t\tconsole.log(\"done fetchGeocode.then\");\n\t\t\t\tcreatePostal({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tname: nameInput,\n\t\t\t\t\t\tphone: phoneInput.toString(),\n\t\t\t\t\t\taddress: addressInput,\n\t\t\t\t\t\tcode_area: codeArea,\n\t\t\t\t\t\tarea_level1_index: parseInt(indexLevel1),\n\t\t\t\t\t\tarea_level2_index: parseInt(indexLevel2),\n\t\t\t\t\t\tarea_level3_index: parseInt(indexLevel3),\n\t\t\t\t\t\ttype: 99,\n\t\t\t\t\t\timage_url: \"https://i.imgur.com/fkmKq6F.png\",\n\t\t\t\t\t\tlat: currentLat.toString(),\n\t\t\t\t\t\tlng: currentLong.toString(),\n\t\t\t\t\t\tuid: props.infos.id,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction onClickUpdate() {}\n\n\tif (!props.token) {\n\t\tprops.navigation.navigate(\"SignIn\");\n\t}\n\n\tconst renderPhotoButton = () => (\n\t\t<Button\n\t\t\tstyle={styles.photoButton}\n\t\t\tsize=\"small\"\n\t\t\tstatus=\"basic\"\n\t\t\ticon={CameraIcon}\n\t\t/>\n\t);\n\n\tconst renderBackAction = () => (\n\t\t<TopNavigationAction\n\t\t\ticon={BackIcon}\n\t\t\tonPress={() =>\n\t\t\t\tisUpdate == true\n\t\t\t\t\t? props.navigation.navigate(\"MyPostal\")\n\t\t\t\t\t: props.navigation.navigate(\"More\")\n\t\t\t}\n\t\t/>\n\t);\n\n\tconst renderBackMain = () => (\n\t\t<TopNavigationAction icon={BackIcon} onPress={() => setIsMain(true)} />\n\t);\n\n\tconst toggleMenu = () => {\n\t\tsetMenuVisible(!menuVisible);\n\t};\n\n\tconst renderMenuAction = () => (\n\t\t<TopNavigationAction icon={MenuIcon} onPress={toggleMenu} />\n\t);\n\n\t// const renderRightActions = () => (\n\t// \t<React.Fragment>\n\t// \t\t{isUpdate == true && (\n\t// \t\t\t<OverflowMenu\n\t// \t\t\t\tanchor={renderMenuAction}\n\t// \t\t\t\tvisible={menuVisible}\n\t// \t\t\t\tonBackdropPress={toggleMenu}\n\t// \t\t\t>\n\t// \t\t\t\t<MenuItem\n\t// \t\t\t\t\taccessoryLeft={InfoIcon}\n\t// \t\t\t\t\ttitle=\"Xoá\"\n\t// \t\t\t\t\tonSelect={() => console.log(\"work\")}\n\t// \t\t\t\t/>\n\t// \t\t\t</OverflowMenu>\n\t// \t\t)}\n\t// \t\t{/*isUpdate == false && <TopNavigationAction icon={SubmitIcon} />*/}\n\t// \t</React.Fragment>\n\t// );\n\n\tconst renderRightLocation = () => (\n\t\t<Button size=\"small\" onPress={() => setIsMain(true)}>\n\t\t\tTiếp tục\n\t\t</Button>\n\t);\n\n\tconst onRegionChange = (region) => {\n\t\tconsole.log(26999999, region);\n\t\tconsole.log(11111111, region.nativeEvent.coordinate);\n\t\tfetchAddress(\n\t\t\tregion.nativeEvent.coordinate.latitude,\n\t\t\tregion.nativeEvent.coordinate.longitude\n\t\t);\n\t\t// console.log(27000000, region.latitude)\n\t};\n\n\t// useEffect(() => {\n\t// \tref.current?.setAddressText(addressInput);\n\t// }, []);\n\n\tconst SubmitIcon = (props) => (\n\t\t<Button\n\t\t\tstatus=\"info\"\n\t\t\tsize=\"small\"\n\t\t\tstyle={{ marginTop: 15 }}\n\t\t\tonPress={() => onClickCreate()}\n\t\t>\n\t\t\t{isUpdate == true ? \"Lưu\" : \"Tạo\"}\n\t\t</Button>\n\t);\n\n\treturn (\n\t\t<SafeAreaView\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: \"#fff\",\n\t\t\t\theight: Dimensions.get(\"window\").height,\n\t\t\t\tpaddingTop: Platform.OS === \"android\" ? 25 : 0,\n\t\t\t}}\n\t\t>\n\t\t\t{isMain == true && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<TopNavigation\n\t\t\t\t\t\talignment=\"center\"\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tisUpdate == true\n\t\t\t\t\t\t\t\t? \"Chỉnh sửa\"\n\t\t\t\t\t\t\t\t: \"Đăng ký mã bưu chính\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\taccessoryLeft={renderBackAction}\n\t\t\t\t\t\t// accessoryRight={renderRightActions}\n\t\t\t\t\t/>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Spinner visible={loading} />\n\t\t\t\t\t{/*\n\t\t\t\t\t{currentLat != null && currentLong != null && (\n\t\t\t\t\t\t<MapView\n\t\t\t\t\t\t\tinitialRegion={{\n\t\t\t\t\t\t\t\tlatitude: parseFloat(currentLat),\n\t\t\t\t\t\t\t\tlongitude: parseFloat(currentLong),\n\t\t\t\t\t\t\t\t// latitudeDelta: appConfigs.GOOGLE_MAP.latitudeDelta,\n\t\t\t\t\t\t\t\t// longitudeDelta: appConfigs.GOOGLE_MAP.longitudeDelta,\n\t\t\t\t\t\t\t\tlatitudeDelta: 0.009,\n\t\t\t\t\t\t\t\tlongitudeDelta: 0.001,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t//hiển thị chấm xanh\n\t\t\t\t\t\t\t// showsUserLocation={true}\n\t\t\t\t\t\t\t// showsMyLocationButton={true}\n\t\t\t\t\t\t\t// followsUserLocation={true}\n\t\t\t\t\t\t\t// showsMyLocationButton={true}\n\t\t\t\t\t\t\t// loadingEnabled={true}\n\t\t\t\t\t\t\tstyle={styles.mapStyle}\n\t\t\t\t\t\t\t// customMapStyle={mapStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MapView.Marker\n\t\t\t\t\t\t\t\tkey={\"marker_here\"}\n\t\t\t\t\t\t\t\tdraggable\n\t\t\t\t\t\t\t\tcoordinate={{\n\t\t\t\t\t\t\t\t\tlatitude: parseFloat(currentLat),\n\t\t\t\t\t\t\t\t\tlongitude: parseFloat(currentLong),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonSelect={(e) => console.log(\"onSelect\", e)}\n\t\t\t\t\t\t\t\t// onDrag={(e) => console.log(\"onDrag\", e)}\n\t\t\t\t\t\t\t\t// onDragStart={(e) => console.log(\"onDragStart\", e)}\n\t\t\t\t\t\t\t\tonDragEnd={(region) => onRegionChange(region)}\n\t\t\t\t\t\t\t\tonPress={(e) => console.log(\"onPress\", e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MapView>\n\t\t\t\t\t)}\n\t\t\t\t\t*/}\n\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: 5,\n\t\t\t\t\t\t\tpaddingTop: 6,\n\t\t\t\t\t\t\tpaddingHorizontal: 10,\n\t\t\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tTên địa điểm\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10 }}\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tvalue={nameInput}\n\t\t\t\t\t\tonChangeText={(text) => setNameInput(text)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: 5,\n\t\t\t\t\t\t\tpaddingTop: 6,\n\t\t\t\t\t\t\tpaddingHorizontal: 10,\n\t\t\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tSố điện thoại\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10 }}\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tvalue={phoneInput}\n\t\t\t\t\t\tkeyboardType=\"number-pad\"\n\t\t\t\t\t\tonChangeText={(text) => setPhoneInput(text)}\n\t\t\t\t\t\tkeyboardType=\"numeric\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: 5,\n\t\t\t\t\t\t\tpaddingTop: 6,\n\t\t\t\t\t\t\tpaddingHorizontal: 10,\n\t\t\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tĐịa chỉ\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tplaceholder=\"Chọn tỉnh thành\"\n\t\t\t\t\t\tvalue={displayLevel1}\n\t\t\t\t\t\tselectedIndex={indexLevel1}\n\t\t\t\t\t\tonSelect={(index) => {\n\t\t\t\t\t\t\tselectAreaLevel1(index.row);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10, paddingBottom: 10 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{DataPostalLevel1.map((postal) => (\n\t\t\t\t\t\t\t<SelectItem title={postal.name} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tplaceholder=\"Chọn tỉnh thành\"\n\t\t\t\t\t\tvalue={displayLevel2}\n\t\t\t\t\t\tselectedIndex={indexLevel2}\n\t\t\t\t\t\tonSelect={(index) => {\n\t\t\t\t\t\t\tselectAreaLevel2(index.row);\n\n\t\t\t\t\t\t\t// setIndexLevel2(index);\n\t\t\t\t\t\t\t// setDisplayLevel2(\n\t\t\t\t\t\t\t// \tdataPostalLevel2[index.row][\"name\"].replace(\n\t\t\t\t\t\t\t// \t\t\"tỉnh \" + displayLevel1,\n\t\t\t\t\t\t\t// \t\t\"\"\n\t\t\t\t\t\t\t// \t)\n\t\t\t\t\t\t\t// );\n\n\t\t\t\t\t\t\t// // fetchGeocode(dataPostalLevel2[index.row][\"name\"])\n\t\t\t\t\t\t\t// axios({\n\t\t\t\t\t\t\t// \tmethod: \"get\",\n\t\t\t\t\t\t\t// \turl:\n\t\t\t\t\t\t\t// \t\t\"https://api.mabuuchinh.vn/api/v1/MBC/GetAdministrativeAgencies?parentPostCode=\" +\n\t\t\t\t\t\t\t// \t\tdataPostalLevel2[index.row][\"postcode\"],\n\t\t\t\t\t\t\t// \theaders: {\n\t\t\t\t\t\t\t// \t\taccept: \"text/plain\",\n\t\t\t\t\t\t\t// \t},\n\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\t// \t.then((data) => {\n\t\t\t\t\t\t\t// \t\tconsole.log(\"data\", data);\n\t\t\t\t\t\t\t// \t\tsetDataPostalLevel3(data.data);\n\t\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t\t// \t.catch((e) => {\n\t\t\t\t\t\t\t// \t\tconsole.log(\"error\", e);\n\t\t\t\t\t\t\t// \t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10, paddingBottom: 10 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{dataPostalLevel2.map((postal) => (\n\t\t\t\t\t\t\t<SelectItem\n\t\t\t\t\t\t\t\ttitle={postal.name.replace(\n\t\t\t\t\t\t\t\t\t\"tỉnh \" + displayLevel1,\n\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tplaceholder=\"Chọn tỉnh thành\"\n\t\t\t\t\t\tvalue={displayLevel3}\n\t\t\t\t\t\tselectedIndex={indexLevel3}\n\t\t\t\t\t\tonSelect={(index) => {\n\t\t\t\t\t\t\tselectAreaLevel3(index.row);\n\t\t\t\t\t\t\t// setIndexLevel3(index);\n\t\t\t\t\t\t\t// setDisplayLevel3(\n\t\t\t\t\t\t\t// \tdataPostalLevel3[index.row][\"name\"]\n\t\t\t\t\t\t\t// \t\t.replace(\"tỉnh \" + displayLevel1, \"\")\n\t\t\t\t\t\t\t// \t\t.replace(displayLevel2, \"\")\n\t\t\t\t\t\t\t// );\n\n\t\t\t\t\t\t\t// setNameLevel3(dataPostalLevel3[index.row][\"name\"]);\n\n\t\t\t\t\t\t\t// console.log(\n\t\t\t\t\t\t\t// \t601,\n\t\t\t\t\t\t\t// \tdataPostalLevel3[index.row][\"postcode\"],\n\t\t\t\t\t\t\t// \tdataPostalLevel3[index.row][\"name\"]\n\t\t\t\t\t\t\t// );\n\n\t\t\t\t\t\t\t// setCodeArea(\n\t\t\t\t\t\t\t// \tdataPostalLevel3[index.row][\"postcode\"]\n\t\t\t\t\t\t\t// );\n\n\t\t\t\t\t\t\t// fetchGeocode(dataPostalLevel3[index.row][\"name\"]);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10, paddingBottom: 10 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{dataPostalLevel3.map((postal) => (\n\t\t\t\t\t\t\t<SelectItem\n\t\t\t\t\t\t\t\ttitle={postal.name\n\t\t\t\t\t\t\t\t\t.replace(\"tỉnh \" + displayLevel1, \"\")\n\t\t\t\t\t\t\t\t\t.replace(\"\" + displayLevel2, \"\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: 5,\n\t\t\t\t\t\t\tpaddingTop: 6,\n\t\t\t\t\t\t\tpaddingHorizontal: 10,\n\t\t\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tĐịa chỉ (số nhà, đường)\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tstyle={{ paddingHorizontal: 10 }}\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tvalue={addressInput}\n\t\t\t\t\t\tonChangeText={(text) => setAddressInput(text)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/*<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: 5,\n\t\t\t\t\t\t\tpaddingTop: 6,\n\t\t\t\t\t\t\tpaddingHorizontal: 10,\n\t\t\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tĐịa chỉ\n\t\t\t\t\t</Text>\n\t\t\t\t\t<TouchableOpacity onPress={() => setIsMain(false)}>\n\t\t\t\t\t\t<View style={styles.input}>\n\t\t\t\t\t\t\t<Text style={styles.input_text}>\n\t\t\t\t\t\t\t\t{addressInput\n\t\t\t\t\t\t\t\t\t? addressInput\n\t\t\t\t\t\t\t\t\t: \"Nhập địa chỉ của bạn\"}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</TouchableOpacity>*/}\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tstyle={{ marginHorizontal: 10, marginTop: 15 }}\n\t\t\t\t\t\tonPress={() => onClickCreate()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isUpdate == true ? \"Lưu\" : \"Đăng ký\"}\n\t\t\t\t\t</Button>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\n\t\t\t{isMain == false && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<TopNavigation\n\t\t\t\t\t\talignment=\"center\"\n\t\t\t\t\t\ttitle=\"Nhập địa chỉ của bạn\"\n\t\t\t\t\t\taccessoryLeft={renderBackMain}\n\t\t\t\t\t\taccessoryRight={renderRightLocation}\n\t\t\t\t\t/>\n\t\t\t\t\t<Divider />\n\n\t\t\t\t\t<GooglePlacesAutocomplete\n\t\t\t\t\t\t// ref={mapRef}\n\t\t\t\t\t\tplaceholder=\"Tìm kiếm\"\n\t\t\t\t\t\tquery={{\n\t\t\t\t\t\t\tkey: appConfigs.GOOGLE_MAP.API_KEY_2,\n\t\t\t\t\t\t\tlanguage: \"vi\", // language of the results\n\t\t\t\t\t\t\tcomponents: \"country:vn\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonPress={(data, details = null) => {\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tconsole.log(348, data.description);\n\t\t\t\t\t\t\tsetAddressInput(data.description);\n\t\t\t\t\t\t\tfetchGeocode(data.description);\n\t\t\t\t\t\t\t// setIsMain(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFail={(error) => console.error(error)}\n\t\t\t\t\t\t// requestUrl={{\n\t\t\t\t\t\t// \turl:\n\t\t\t\t\t\t// \t\t\"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api\",\n\t\t\t\t\t\t// \tuseOnPlatform: \"web\",\n\t\t\t\t\t\t// }} // this in only required for use on the web. See https://git.io/JflFv more for details.\n\t\t\t\t\t\t// currentLocation={true}\n\t\t\t\t\t\t// currentLocationLabel=\"Hiện tại\"\n\t\t\t\t\t\tstyles={{\n\t\t\t\t\t\t\ttextInputContainer: {\n\t\t\t\t\t\t\t\tborderColor: \"#e4e6ef\",\n\t\t\t\t\t\t\t\tpadding: 10,\n\t\t\t\t\t\t\t\tbackgroundColor: \"#e4e6ef\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttextInput: {\n\t\t\t\t\t\t\t\tborderColor: \"#e4e6ef\",\n\t\t\t\t\t\t\t\theight: 38,\n\t\t\t\t\t\t\t\tcolor: \"#5d5d5d\",\n\t\t\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpredefinedPlacesDescription: {\n\t\t\t\t\t\t\t\tcolor: \"#1faadb\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</SafeAreaView>\n\t);\n}\n\n// STYLES\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflexDirection: \"row\",\n\t\talignItems: \"center\",\n\t},\n\thead: {\n\t\tbackgroundColor: \"#fff\",\n\t\twidth: \"100%\",\n\t\tmarginTop: 50,\n\t\tmarginBottom: 0,\n\t\tpaddingHorizontal: 25,\n\t\tpaddingVertical: 10,\n\t\tmargin: 0,\n\t\tborderBottomColor: \"#879299\",\n\t\tborderBottomWidth: 1,\n\t\theight: 50,\n\t\t// position: \"absolute\",\n\t},\n\tmapStyle: {\n\t\twidth: Dimensions.get(\"window\").width,\n\t\theight: 200,\n\t},\n\tinput: {\n\t\tbackgroundColor: \"rgb(247, 249, 252)\",\n\t\tborderColor: \"#rgb(228, 233, 242)\",\n\t\theight: 45,\n\t\tborderWidth: 1,\n\t\tborderRadius: 11,\n\t\tpaddingHorizontal: 10,\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\tpaddingVertical: 10,\n\t\t// justifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"row\",\n\t},\n\tinput_icon: {\n\t\tcolor: \"rgba(0, 0, 0, 0.4)\",\n\t\tmarginRight: 10,\n\t},\n\tinput_text: {\n\t\tcolor: \"rgba(0, 0, 0, 0.45)\",\n\t\tfontSize: 15,\n\t},\n});\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tstoreData: function (token) {\n\t\t\tdispatch({ type: \"saveToken\", token });\n\t\t},\n\t\tstoreUserInfo: function (infos) {\n\t\t\tdispatch({ type: \"saveUserInfo\", infos });\n\t\t},\n\t};\n}\n\nfunction mapStateToProps(state) {\n\treturn { infos: state.infos, token: state.token };\n}\n\n// keep this line at the end\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(createPostalLocationScreen);\n"]},"metadata":{},"sourceType":"module"}