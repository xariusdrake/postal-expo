{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/xrs/DATA/Project/postalvn/postal-mobile/node_modules/react-native-phone-number-input/lib/index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport CountryPicker, { getCallingCode, DARK_THEME, DEFAULT_THEME, CountryModalProvider, Flag } from \"react-native-country-picker-modal\";\nimport { PhoneNumberUtil } from \"google-libphonenumber\";\nimport styles from \"./styles\";\nvar dropDown = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAi0lEQVRYR+3WuQ6AIBRE0eHL1T83FBqU5S1szdiY2NyTKcCAzU/Y3AcBXIALcIF0gRPAsehgugDEXnYQrUC88RIgfpuJ+MRrgFmILN4CjEYU4xJgFKIa1wB6Ec24FuBFiHELwIpQxa0ALUId9wAkhCnuBdQQ5ngP4I9wxXsBDyJ9m+8y/g9wAS7ABW4giBshQZji3AAAAABJRU5ErkJggg==\";\nvar phoneUtil = PhoneNumberUtil.getInstance();\n\nvar PhoneInput = function (_Component) {\n  _inherits(PhoneInput, _Component);\n\n  var _super = _createSuper(PhoneInput);\n\n  function PhoneInput(props, context) {\n    var _this;\n\n    _classCallCheck(this, PhoneInput);\n\n    _this = _super.call(this, props, context);\n\n    _this.getCountryCode = function () {\n      return _this.state.countryCode;\n    };\n\n    _this.getCallingCode = function () {\n      return _this.state.code;\n    };\n\n    _this.isValidNumber = function (number) {\n      try {\n        var countryCode = _this.state.countryCode;\n        var parsedNumber = phoneUtil.parse(number, countryCode);\n        return phoneUtil.isValidNumber(parsedNumber);\n      } catch (err) {\n        return false;\n      }\n    };\n\n    _this.onSelect = function (country) {\n      var onChangeCountry = _this.props.onChangeCountry;\n\n      _this.setState({\n        countryCode: country.cca2,\n        code: country.callingCode[0]\n      }, function () {\n        var onChangeFormattedText = _this.props.onChangeFormattedText;\n\n        if (onChangeFormattedText) {\n          if (country.callingCode[0]) {\n            onChangeFormattedText(\"+\" + country.callingCode[0] + _this.state.number);\n          } else {\n            onChangeFormattedText(_this.state.number);\n          }\n        }\n      });\n\n      if (onChangeCountry) {\n        onChangeCountry(country);\n      }\n    };\n\n    _this.onChangeText = function (text) {\n      _this.setState({\n        number: text\n      });\n\n      var _this$props = _this.props,\n          onChangeText = _this$props.onChangeText,\n          onChangeFormattedText = _this$props.onChangeFormattedText;\n\n      if (onChangeText) {\n        onChangeText(text);\n      }\n\n      if (onChangeFormattedText) {\n        var code = _this.state.code;\n\n        if (code) {\n          onChangeFormattedText(text.length > 0 ? \"+\" + code + text : text);\n        } else {\n          onChangeFormattedText(text);\n        }\n      }\n    };\n\n    _this.renderDropdownImage = function () {\n      return React.createElement(Image, {\n        source: {\n          uri: dropDown\n        },\n        resizeMode: \"contain\",\n        style: styles.dropDownImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.renderFlagButton = function (props) {\n      var _this$props2 = _this.props,\n          _this$props2$layout = _this$props2.layout,\n          layout = _this$props2$layout === void 0 ? \"first\" : _this$props2$layout,\n          flagSize = _this$props2.flagSize;\n      var countryCode = _this.state.countryCode;\n\n      if (layout === \"first\") {\n        return React.createElement(Flag, {\n          countryCode: countryCode,\n          flagSize: flagSize ? flagSize : DEFAULT_THEME.flagSize,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 9\n          }\n        });\n      }\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this.state = {\n      code: props.defaultCode ? undefined : \"91\",\n      number: props.value ? props.value : props.defaultValue ? props.defaultValue : \"\",\n      modalVisible: false,\n      countryCode: props.defaultCode ? props.defaultCode : \"IN\",\n      disabled: props.disabled || false\n    };\n    return _this;\n  }\n\n  _createClass(PhoneInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var defaultCode, code;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              defaultCode = this.props.defaultCode;\n\n              if (!defaultCode) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getCallingCode(defaultCode));\n\n            case 4:\n              code = _context.sent;\n              this.setState({\n                code: code\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var value = nextProps.value,\n          nextDisabled = nextProps.disabled;\n      var _this$state = this.state,\n          number = _this$state.number,\n          disabled = _this$state.disabled;\n\n      if ((value || value === \"\") && value !== number) {\n        this.setState({\n          number: value\n        });\n      }\n\n      if (disabled !== nextDisabled) {\n        this.setState({\n          disabled: nextDisabled\n        });\n      }\n    }\n  }, {\n    key: \"getNumberAfterPossiblyEliminatingZero\",\n    value: function getNumberAfterPossiblyEliminatingZero() {\n      var _this$state2 = this.state,\n          number = _this$state2.number,\n          code = _this$state2.code;\n\n      if (number.length > 0 && number.startsWith(\"0\")) {\n        number = number.substr(1);\n        return {\n          number: number,\n          formattedNumber: code ? \"+\" + code + number : number\n        };\n      } else {\n        return {\n          number: number,\n          formattedNumber: code ? \"+\" + code + number : number\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          withShadow = _this$props3.withShadow,\n          withDarkTheme = _this$props3.withDarkTheme,\n          codeTextStyle = _this$props3.codeTextStyle,\n          textInputProps = _this$props3.textInputProps,\n          textInputStyle = _this$props3.textInputStyle,\n          autoFocus = _this$props3.autoFocus,\n          placeholder = _this$props3.placeholder,\n          disableArrowIcon = _this$props3.disableArrowIcon,\n          flagButtonStyle = _this$props3.flagButtonStyle,\n          containerStyle = _this$props3.containerStyle,\n          textContainerStyle = _this$props3.textContainerStyle,\n          renderDropdownImage = _this$props3.renderDropdownImage,\n          _this$props3$countryP = _this$props3.countryPickerProps,\n          countryPickerProps = _this$props3$countryP === void 0 ? {} : _this$props3$countryP,\n          _this$props3$filterPr = _this$props3.filterProps,\n          filterProps = _this$props3$filterPr === void 0 ? {} : _this$props3$filterPr,\n          countryPickerButtonStyle = _this$props3.countryPickerButtonStyle,\n          _this$props3$layout = _this$props3.layout,\n          layout = _this$props3$layout === void 0 ? \"first\" : _this$props3$layout;\n      var _this$state3 = this.state,\n          modalVisible = _this$state3.modalVisible,\n          code = _this$state3.code,\n          countryCode = _this$state3.countryCode,\n          number = _this$state3.number,\n          disabled = _this$state3.disabled;\n      return React.createElement(CountryModalProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [styles.container, withShadow ? styles.shadow : {}, containerStyle ? containerStyle : {}],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.flagButtonView, layout === \"second\" ? styles.flagButtonExtraWidth : {}, flagButtonStyle ? flagButtonStyle : {}, countryPickerButtonStyle ? countryPickerButtonStyle : {}],\n        disabled: disabled,\n        onPress: function onPress() {\n          return _this2.setState({\n            modalVisible: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }\n      }, React.createElement(CountryPicker, _extends({\n        onSelect: this.onSelect,\n        withEmoji: true,\n        withFilter: true,\n        withFlag: true,\n        filterProps: filterProps,\n        countryCode: countryCode,\n        withCallingCode: true,\n        disableNativeModal: disabled,\n        visible: modalVisible,\n        theme: withDarkTheme ? DARK_THEME : DEFAULT_THEME,\n        renderFlagButton: this.renderFlagButton,\n        onClose: function onClose() {\n          return _this2.setState({\n            modalVisible: false\n          });\n        }\n      }, countryPickerProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }\n      })), code && layout === \"second\" && React.createElement(Text, {\n        style: [styles.codeText, codeTextStyle ? codeTextStyle : {}],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, \"+\" + code), !disableArrowIcon && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }\n      }, renderDropdownImage ? renderDropdownImage : this.renderDropdownImage())), React.createElement(View, {\n        style: [styles.textContainer, textContainerStyle ? textContainerStyle : {}],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }\n      }, code && layout === \"first\" && React.createElement(Text, {\n        style: [styles.codeText, codeTextStyle ? codeTextStyle : {}],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }\n      }, \"+\" + code), React.createElement(TextInput, _extends({\n        style: [styles.numberText, textInputStyle ? textInputStyle : {}],\n        placeholder: placeholder ? placeholder : \"Phone Number\",\n        onChangeText: this.onChangeText,\n        value: number,\n        editable: disabled ? false : true,\n        selectionColor: \"black\",\n        keyboardAppearance: withDarkTheme ? \"dark\" : \"default\",\n        keyboardType: \"number-pad\",\n        autoFocus: autoFocus\n      }, textInputProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      })))));\n    }\n  }]);\n\n  return PhoneInput;\n}(Component);\n\nexport { PhoneInput as default };","map":{"version":3,"sources":["/Users/xrs/DATA/Project/postalvn/postal-mobile/node_modules/react-native-phone-number-input/lib/index.js"],"names":["React","Component","CountryPicker","getCallingCode","DARK_THEME","DEFAULT_THEME","CountryModalProvider","Flag","PhoneNumberUtil","styles","dropDown","phoneUtil","getInstance","PhoneInput","props","context","getCountryCode","state","countryCode","code","isValidNumber","number","parsedNumber","parse","err","onSelect","country","onChangeCountry","setState","cca2","callingCode","onChangeFormattedText","onChangeText","text","length","renderDropdownImage","uri","dropDownImage","renderFlagButton","layout","flagSize","defaultCode","undefined","value","defaultValue","modalVisible","disabled","nextProps","nextDisabled","startsWith","substr","formattedNumber","withShadow","withDarkTheme","codeTextStyle","textInputProps","textInputStyle","autoFocus","placeholder","disableArrowIcon","flagButtonStyle","containerStyle","textContainerStyle","countryPickerProps","filterProps","countryPickerButtonStyle","container","shadow","flagButtonView","flagButtonExtraWidth","codeText","textContainer","numberText"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Text, TouchableOpacity, Image, TextInput } from \"react-native\";\nimport CountryPicker, {\n  getCallingCode,\n  DARK_THEME,\n  DEFAULT_THEME,\n  CountryModalProvider,\n  Flag,\n} from \"react-native-country-picker-modal\";\nimport { PhoneNumberUtil } from \"google-libphonenumber\";\nimport styles from \"./styles\";\n\nconst dropDown =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAi0lEQVRYR+3WuQ6AIBRE0eHL1T83FBqU5S1szdiY2NyTKcCAzU/Y3AcBXIALcIF0gRPAsehgugDEXnYQrUC88RIgfpuJ+MRrgFmILN4CjEYU4xJgFKIa1wB6Ec24FuBFiHELwIpQxa0ALUId9wAkhCnuBdQQ5ngP4I9wxXsBDyJ9m+8y/g9wAS7ABW4giBshQZji3AAAAABJRU5ErkJggg==\";\nconst phoneUtil = PhoneNumberUtil.getInstance();\n\nexport default class PhoneInput extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      code: props.defaultCode ? undefined : \"91\",\n      number: props.value\n        ? props.value\n        : props.defaultValue\n        ? props.defaultValue\n        : \"\",\n      modalVisible: false,\n      countryCode: props.defaultCode ? props.defaultCode : \"IN\",\n      disabled: props.disabled || false,\n    };\n  }\n\n  async componentDidMount() {\n    const { defaultCode } = this.props;\n    if (defaultCode) {\n      const code = await getCallingCode(defaultCode);\n      this.setState({ code });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { value, disabled: nextDisabled } = nextProps;\n    const { number, disabled } = this.state;\n    if ((value || value === \"\") && value !== number) {\n      this.setState({ number: value });\n    }\n    if (disabled !== nextDisabled) {\n      this.setState({ disabled: nextDisabled });\n    }\n  }\n\n  getCountryCode = () => {\n    return this.state.countryCode;\n  };\n\n  getCallingCode = () => {\n    return this.state.code;\n  };\n\n  isValidNumber = (number) => {\n    try {\n      const { countryCode } = this.state;\n      const parsedNumber = phoneUtil.parse(number, countryCode);\n      return phoneUtil.isValidNumber(parsedNumber);\n    } catch (err) {\n      return false;\n    }\n  };\n\n  onSelect = (country) => {\n    const { onChangeCountry } = this.props;\n    this.setState(\n      {\n        countryCode: country.cca2,\n        code: country.callingCode[0],\n      },\n      () => {\n        const { onChangeFormattedText } = this.props;\n        if (onChangeFormattedText) {\n          if (country.callingCode[0]) {\n            onChangeFormattedText(\n              `+${country.callingCode[0]}${this.state.number}`\n            );\n          } else {\n            onChangeFormattedText(this.state.number);\n          }\n        }\n      }\n    );\n    if (onChangeCountry) {\n      onChangeCountry(country);\n    }\n  };\n\n  onChangeText = (text) => {\n    this.setState({ number: text });\n    const { onChangeText, onChangeFormattedText } = this.props;\n    if (onChangeText) {\n      onChangeText(text);\n    }\n    if (onChangeFormattedText) {\n      const { code } = this.state;\n      if (code) {\n        onChangeFormattedText(text.length > 0 ? `+${code}${text}` : text);\n      } else {\n        onChangeFormattedText(text);\n      }\n    }\n  };\n\n  getNumberAfterPossiblyEliminatingZero() {\n    let { number, code } = this.state;\n    if (number.length > 0 && number.startsWith(\"0\")) {\n      number = number.substr(1);\n      return { number, formattedNumber: code ? `+${code}${number}` : number };\n    } else {\n      return { number, formattedNumber: code ? `+${code}${number}` : number };\n    }\n  }\n\n  renderDropdownImage = () => {\n    return (\n      <Image\n        source={{ uri: dropDown }}\n        resizeMode=\"contain\"\n        style={styles.dropDownImage}\n      />\n    );\n  };\n\n  renderFlagButton = (props) => {\n    const { layout = \"first\", flagSize } = this.props;\n    const { countryCode } = this.state;\n    if (layout === \"first\") {\n      return (\n        <Flag\n          countryCode={countryCode}\n          flagSize={flagSize ? flagSize : DEFAULT_THEME.flagSize}\n        />\n      );\n    }\n    return <View />;\n  };\n\n  render() {\n    const {\n      withShadow,\n      withDarkTheme,\n      codeTextStyle,\n      textInputProps,\n      textInputStyle,\n      autoFocus,\n      placeholder,\n      disableArrowIcon,\n      flagButtonStyle,\n      containerStyle,\n      textContainerStyle,\n      renderDropdownImage,\n      countryPickerProps = {},\n      filterProps = {},\n      countryPickerButtonStyle,\n      layout = \"first\",\n    } = this.props;\n    const { modalVisible, code, countryCode, number, disabled } = this.state;\n    return (\n      <CountryModalProvider>\n        <View\n          style={[\n            styles.container,\n            withShadow ? styles.shadow : {},\n            containerStyle ? containerStyle : {},\n          ]}\n        >\n          <TouchableOpacity\n            style={[\n              styles.flagButtonView,\n              layout === \"second\" ? styles.flagButtonExtraWidth : {},\n              flagButtonStyle ? flagButtonStyle : {},\n              countryPickerButtonStyle ? countryPickerButtonStyle : {},\n            ]}\n            disabled={disabled}\n            onPress={() => this.setState({ modalVisible: true })}\n          >\n            <CountryPicker\n              onSelect={this.onSelect}\n              withEmoji\n              withFilter\n              withFlag\n              filterProps={filterProps}\n              countryCode={countryCode}\n              withCallingCode\n              disableNativeModal={disabled}\n              visible={modalVisible}\n              theme={withDarkTheme ? DARK_THEME : DEFAULT_THEME}\n              renderFlagButton={this.renderFlagButton}\n              onClose={() => this.setState({ modalVisible: false })}\n              {...countryPickerProps}\n            />\n            {code && layout === \"second\" && (\n              <Text\n                style={[styles.codeText, codeTextStyle ? codeTextStyle : {}]}\n              >{`+${code}`}</Text>\n            )}\n            {!disableArrowIcon && (\n              <React.Fragment>\n                {renderDropdownImage\n                  ? renderDropdownImage\n                  : this.renderDropdownImage()}\n              </React.Fragment>\n            )}\n          </TouchableOpacity>\n          <View\n            style={[\n              styles.textContainer,\n              textContainerStyle ? textContainerStyle : {},\n            ]}\n          >\n            {code && layout === \"first\" && (\n              <Text\n                style={[styles.codeText, codeTextStyle ? codeTextStyle : {}]}\n              >{`+${code}`}</Text>\n            )}\n            <TextInput\n              style={[styles.numberText, textInputStyle ? textInputStyle : {}]}\n              placeholder={placeholder ? placeholder : \"Phone Number\"}\n              onChangeText={this.onChangeText}\n              value={number}\n              editable={disabled ? false : true}\n              selectionColor=\"black\"\n              keyboardAppearance={withDarkTheme ? \"dark\" : \"default\"}\n              keyboardType=\"number-pad\"\n              autoFocus={autoFocus}\n              {...textInputProps}\n            />\n          </View>\n        </View>\n      </CountryModalProvider>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}